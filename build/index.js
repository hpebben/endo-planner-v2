(()=>{var e,t,a,n,l,o={1275:(e,t,a)=>{"use strict";var n={};a.r(n),a.d(n,{WizardContext:()=>Ne,WizardProvider:()=>je,useWizard:()=>ye});const l=window.wp.blocks,o=window.React;var s=a.n(o);const i=window.wp.i18n,r=window.wp.blockEditor;async function c(){const e=document.querySelector("#case-summary");if(!e)return void alert("Case Summary not found");await document.fonts.ready;const t=e.cloneNode(!0);t.querySelectorAll("script").forEach((e=>e.remove()));const n=["font-family","font-size","font-weight","font-style","color","background","background-color","background-image","background-size","background-position","background-repeat","text-align","display","grid-template-columns","grid-template-rows","grid-column","grid-row","grid-gap","grid-auto-flow","flex","flex-direction","flex-basis","flex-grow","flex-shrink","justify-content","align-items","margin","margin-top","margin-right","margin-bottom","margin-left","padding","padding-top","padding-right","padding-bottom","padding-left","border","border-top","border-right","border-bottom","border-left","border-color","border-width","border-style","box-shadow","width","height"],l=e=>{const t=getComputedStyle(e);n.forEach((a=>{const n=t.getPropertyValue(a);n&&e.style.setProperty(a,n)}))};l(t);const o=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT);let s=o.nextNode();for(;s;)l(s),s=o.nextNode();const i=[...document.querySelectorAll('link[rel="stylesheet"]')].map((e=>e.href)),r=await Promise.all(i.map((e=>fetch(e).then((e=>e.text())).catch((()=>""))))),c=document.createElement("style");c.textContent=r.join("\n"),t.prepend(c),document.body.appendChild(t);const{default:u}=await a.e(833).then(a.t.bind(a,3833,23));await u().set({filename:`CaseSummary-${Date.now()}.pdf`,margin:0,pagebreak:{avoid:".summary-card, .intervention-section",mode:"avoid-all"},html2canvas:{scale:2,useCORS:!0,logging:!1},jsPDF:{unit:"pt",format:"a4",orientation:"portrait"}}).from(t).save(),t.remove()}var u=a(5556),L=a.n(u);function M({options:e,value:t,onChange:a,ariaLabel:n}){const l=(0,o.useRef)([]),s=e=>{const t=l.current[e];t&&t.focus()};return(0,o.createElement)("div",{className:"segmented-control",role:"radiogroup","aria-label":n},e.map(((n,i)=>(0,o.createElement)("button",{key:n.value,type:"button",role:"radio","aria-checked":t===n.value,"aria-pressed":t===n.value,tabIndex:t===n.value?0:-1,className:t===n.value?"active":"",onClick:()=>a(n.value),onKeyDown:t=>((t,n)=>{const l=e.length-1;if("ArrowRight"===t.key||"ArrowDown"===t.key){t.preventDefault();const o=n===l?0:n+1;a(e[o].value),s(o)}else if("ArrowLeft"===t.key||"ArrowUp"===t.key){t.preventDefault();const o=0===n?l:n-1;a(e[o].value),s(o)}})(t,i),ref:e=>l.current[i]=e},n.label))))}M.propTypes={options:L().arrayOf(L().shape({label:L().string.isRequired,value:L().string.isRequired})).isRequired,value:L().string,onChange:L().func.isRequired,ariaLabel:L().string};const m=[{label:(0,i.__)("I Asymptomatic","endoplanner"),value:"i"},{label:(0,i.__)("IIa >100m","endoplanner"),value:"iia"},{label:(0,i.__)("IIb <100m","endoplanner"),value:"iib"},{label:(0,i.__)("III Rest Pain","endoplanner"),value:"iii"},{label:(0,i.__)("IV Ulcer/Gangrene","endoplanner"),value:"iv"}],d={wound:{0:"No ulcer or gangrene",1:"Small/superficial ulcer, no gangrene",2:"Deep ulcer with exposed bone/joint ± digit gangrene",3:"Extensive ulcer ± calcaneal involvement ± extensive gangrene"},ischemia:{0:"ABI ≥ 0.80; TP ≥ 60 mmHg",1:"ABI 0.6–0.79; TP 40–59 mmHg",2:"ABI 0.4–0.59; TP 30–39 mmHg",3:"ABI ≤ 0.39; TP < 30 mmHg"},infection:{0:"No signs of infection",1:"Mild local infection, erythema 0.5–2 cm",2:"Moderate infection, >2 cm or deeper tissue",3:"Severe infection with SIRS"}};function p({data:e,setData:t}){const a=(0,r.useBlockProps)({className:"clinical-center"}),[n,l]=(0,o.useState)(0),[s,c]=(0,o.useState)(0),[u,L]=(0,o.useState)(0),p=(a,n)=>{"wound"===a&&l(n),"ischemia"===a&&c(n),"infection"===a&&L(n),t({...e,clinical:{...e.clinical,[a]:n}})};return(0,o.createElement)("div",{...a},(0,o.createElement)("h2",{className:"section-title"},(0,i.__)("Stage","endoplanner")),(0,o.createElement)("p",{className:"section-subtitle"},(0,i.__)("Stage I–IV based on Fontaine classification","endoplanner")),(0,o.createElement)(M,{options:m,value:e.stage,onChange:a=>t({...e,stage:a}),ariaLabel:(0,i.__)("Fontaine stage","endoplanner")}),(0,o.createElement)("div",{className:"section-spacer"}),(0,o.createElement)("h2",{className:"section-title"},(0,i.__)("Wound","endoplanner")),(0,o.createElement)("p",{className:"wifi-desc"},d.wound[n]),(0,o.createElement)("input",{type:"range",min:0,max:3,step:1,value:n,onChange:e=>p("wound",Number(e.target.value)),className:"wifi-slider"}),(0,o.createElement)("div",{className:"wifimarkers"},(0,o.createElement)("span",null,"0"),(0,o.createElement)("span",null,"1"),(0,o.createElement)("span",null,"2"),(0,o.createElement)("span",null,"3")),(0,o.createElement)("div",{className:"section-spacer"}),(0,o.createElement)("h2",{className:"section-title"},(0,i.__)("Ischemia","endoplanner")),(0,o.createElement)("p",{className:"wifi-desc"},d.ischemia[s]),(0,o.createElement)("input",{type:"range",min:0,max:3,step:1,value:s,onChange:e=>p("ischemia",Number(e.target.value)),className:"wifi-slider"}),(0,o.createElement)("div",{className:"wifimarkers"},(0,o.createElement)("span",null,"0"),(0,o.createElement)("span",null,"1"),(0,o.createElement)("span",null,"2"),(0,o.createElement)("span",null,"3")),(0,o.createElement)("div",{className:"section-spacer"}),(0,o.createElement)("h2",{className:"section-title"},(0,i.__)("Infection","endoplanner")),(0,o.createElement)("p",{className:"wifi-desc"},d.infection[u]),(0,o.createElement)("input",{type:"range",min:0,max:3,step:1,value:u,onChange:e=>p("infection",Number(e.target.value)),className:"wifi-slider"}),(0,o.createElement)("div",{className:"wifimarkers"},(0,o.createElement)("span",null,"0"),(0,o.createElement)("span",null,"1"),(0,o.createElement)("span",null,"2"),(0,o.createElement)("span",null,"3")),(0,o.createElement)("div",{className:"section-spacer"}))}p.propTypes={data:L().object.isRequired,setData:L().func.isRequired};const g=JSON.parse('{"root":{"xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 708.48 1484.64"},"segments":[{"id":"Left_metatarsal_arteries","name":"Left metatarsal arteries","paths":[{"d":"M432.94,1387.63c.61,1.68-1.19,2.33-1.42,3.56-2.56,13.68-5.67,27.75-8.18,41.45-.12.64-1.29,2.81-2.12,2.64-2.27-1.44-.59-3.5-.31-5.53,1.8-12.63,4.53-25.12,7.14-37.73.31-1.48.02-3.12.57-4.59l4.32.19h0Z"},{"d":"M456.41,1391.49c.62,3.3-.68,6.46-.91,9.69-.64,9.01-.61,18.16-1.43,27.19-.25,2.74-.59,5.86-.95,8.6-.09.67.26.81-.73.71-3.2-.53-.82-6.51-.7-8.81.39-7.27.06-14.66.47-21.94.3-5.31,1.51-10.6.96-15.98l3.29.55h0Z"},{"d":"M505.44,1388.56c.66,2.74,1.03,5.52,1.49,8.3,1.18,7.03,2.35,13.88,3.36,20.98.2,1.44,2.64,9.43.66,9.82-1.85.36-2.05-4.19-2.3-5.33-2.15-9.95-4.74-20.75-6.56-30.69-.48-2.6,1.11-2.89,3.34-3.07h.01Z"},{"d":"M481.92,1393.81l1.92,40.05-1.88-.04c.04-.9-.37-1.77-.45-2.65-1-10.58-1.29-21.22-2.52-31.83-.21-1.84-1.08-3.65-.91-5.54h3.84Z"},{"d":"M532.8,1415.74c-1.44.47-2.02-1.07-2.29-2.25-1.08-4.75-2.51-9.91-3.74-14.88-1.38-5.55-2.83-11.15-3.8-16.75l2.4-1.39,7.43,35.28h0Z"}]},{"id":"Left_plantar_arch","name":"Left plantar arch","paths":[{"d":"M464.91,1286.29c.70.85,1.59,1.70,2.45,2.20,7.22,4.20,15.08,11.44,21.49,16.84.77.65,2.49,1.81,3.45,2.26,15.54,14.07,42.39,41.78,34.54,63.45-1.17,3.22-2.88,4.23-2.17,8.30.40,2.32,2.89,5.09-1.46,5.99-.39-1.85-.69-3.62-.97-5.50-.09-.62.29-.86-.72-.72-3.26.46-11.05,7.66-15.62,7.39-1.58,2.81.57,5.57.50,8.39l-3.26-.11-1.85-6.62-19.38,2.43v3.35l-3.77-.54-.13-2.26c-.51-.24-1.09-.42-1.65-.49-6.33-.82-16.27,1.15-21.94-.15-4.44-1.01-10.84-4.14-14.64-6.07-1.67-.85-3.43-1.66-5.14-2.44-1.08-.14-.57.17-.70.72-.40,1.65-1.02,3.29-.98,5.02l-3.82-.50c-.49-.56,1.60-8.18,1.34-9.66-.34-2-3.95-5.97-4.60-8.84-5.51-24.38,16.47-62.79,32.83-80.28.54-.57,1.16-1.78,1.80-2.16l1.95-.11,2.45.11ZM467.32,1292.82c-1.41-.92-2.82-1.91-4.37-2.60-.65,0-3.33,2.82-3.90,3.52-11.33,14.13-28.63,42.27-29.93,60.29-1.29,17.90,2.93,25.21,19.60,31.15,14.86,5.29,33.91,3.18,49.40.27,18.16-3.41,29.95-11.89,24.93-32.24-5-20.30-38.23-49.03-55.74-60.39h0Z"}]},{"id":"Left_lateral_plantar_artery","name":"Left lateral plantar artery","paths":[{"d":"M422.4,1255.64c.44-.33.53,0,4.08,0l-5.89,19.05c-4.95,24.2-11.7,48.38-15.44,72.7-4.15,27.01-7.35,52.31-5.8,80.44.09,1.55,2.62,10.84-.7,9.79-.69-.22-.63-1.12-.73-1.67-6.3-36.49.4-73.29,7-108.9,3.15-17.01,6.42-34.48,10.88-51.39,1.39-5.25,3.29-10.42,4.69-15.68l1.91-4.34Z"}]},{"id":"Left_dorsal_pedal_artery","name":"Left dorsal pedal artery","paths":[{"d":"M497.32,1232c-.04.06.19-.45,0,0-4.53,11.03-11.67,22.57-17.78,32.39-4.36,7-9.56,15.37-14.63,21.9-4.36,0-4.39.16-4.39.16.18-.54,4.23-6.06,4.44-6.38,10.26-15.68,19.62-31.18,27.37-47.62l12.36-19.28c1.19-.66,5.92-.26,5.76,0l-13.12,18.83Z"}]},{"id":"Left_medial_plantar_artery","name":"Left medial plantar artery","paths":[{"d":"M431.7,1259.25c6.13,8.54,11.75,12.64,16.98,16.73,2.13,1.66,10.81,8.12,12.8,9,0,0,.16.06-.97,1.47-.97,1.35-1.36,1.06-.97,1.35l-20.8-14.99c-1.61-1.37-12.27-15.3-12.27-17.17h3.13c.67,1.27,1.38,2.51,2.1,3.61h-.01Z"}]},{"id":"Right_metatarsal_arteries","name":"Right metatarsal arteries","paths":[{"d":"M279.36,1381.88c.04,1-.12,2.05.05,3.05,2.67,15.56,6.44,30.77,8.64,46.22.29,2.02,1.96,4.08-.31,5.52-2.72-.95-1.75-3.69-2.16-5.45-3.11-13.3-5.57-27.94-9.48-40.62-.57-1.85.6-4.38-1-6.19l.15-.63,4.11-1.9h0Z"},{"d":"M255.84,1439.06l-3.39-45.52.31-.75,3.08-.9c-.56,5.54.66,10.98.96,16.44.4,7.28.07,14.67.47,21.93.15,2.76,2.9,8.76-1.42,8.79h0Z"},{"d":"M203.52,1389.98c1.61.78,3.75.67,3.36,3.06-.12.71-.83,1.24-.94,1.96-1.5,9.53-3.6,19.35-5.63,28.72-.25,1.14-.45,5.69-2.3,5.33-1.98-.39.46-8.37.66-9.81,1.01-7.1,2.18-13.94,3.36-20.97.47-2.78.83-5.55,1.49-8.29h0Z"},{"d":"M230.88,1393.32c.48,2.61-.66,5.02-.91,7.44-1.18,11.52-1.67,23.01-2.97,34.46l-1.88.04,1.92-41.94h3.84Z"},{"d":"M186.72,1381.89c-1.78,5.97-3,12.1-4.53,18.14-1.25,4.96-2.66,10.12-3.74,14.87-.27,1.18-.85,2.73-2.29,2.25l7.2-36.22,3.36.96Z"}]},{"id":"Right_plantar_arch","name":"Right plantar arch","paths":[{"d":"M252.18,1291.47c2.95,2.79,6.27,7.44,8.61,10.81,11.87,17.12,27.11,45.57,22.28,66.92-1.10,4.87-6.39,7.69-3.94,13.29l-4.09,1.89v-1.91c-.41-.42-4.99,2-5.86,2.44-2.37,1.19-4.63,2.57-7.51,3.62-1.34.49-3.85.62-5.01,1.22-1.24.64-1,2.04-3.54,2.27-1.54.14-.78-.84-1.81-.98-2.38-.32-17.69-.29-19.51.27-.37.12-.85.12-.95.57l-.05,4.87-3.77.55v-6.22l-19.37-2.43-.92,4.93c-1.14.76-.24,3.23-1.55,3.25-5.82.13-.09-6.25-1.88-9.61-2.26-.66-4.48-1.5-6.6-2.51-1.4-.66-9.45-5.67-9.99-5.11.06,4.07-1.8,7.94-2.41,11.95l-1.95-.21c-1.7-2.56.42-4.81.89-6.82.43-1.87,1.32-6.32,1.08-8.05-.22-1.62-1.62-3.32-2.22-4.96-7.77-21.45,19.28-50.68,35.6-63.8,1.68-1.85,3.88-3.29,5.75-4.79,5.10-4.09,12.53-10.95,18.14-13.97,2.01-1.08,3.83-2.59,5.97-1.88,2.01.66,3.50,3.36,4.60,4.40h.01ZM249.90,1294.21c-.73-.91-3.22-3.71-4.27-3.45-4.05,2.72-8.25,5.36-12.15,8.25-15.28,11.35-42.99,36.01-47.59,54.67-5.01,20.36,6.77,28.84,24.93,32.25,15.48,2.91,34.53,5.02,49.40-.27,16.67-5.94,20.89-13.25,19.60-31.16s-18.60-46.17-29.93-60.3h0Z"}]},{"id":"Right_lateral_plantar_artery","name":"Right lateral plantar artery","paths":[{"d":"M287.04,1254.71c-.02.67-.08,1.36.13,2.02,9.05,28.10,14.33,57.12,19.11,85.80,5.30,31.77,9.89,60.43,4.28,92.93-.10.55-.04,1.45-.73,1.67-3.33,1.05-.81-7.90-.72-9.34.91-15.42.92-33.54-.98-48.80-.83-6.71-2.49-13.30-3.33-20.14-3.52-28.67-10.78-62.66-18.98-90.71-.43-1.47-1.54-7.91-2.91-8.14l-.35-5.29h4.48s0,0,0,0Z"}]},{"id":"Right_medial_plantar_artery","name":"Right medial plantar artery","paths":[{"d":"M283.10,1260.23c-.14.24-1.61.67-2.14,1.20-8.10,10.19-32.41,26.14-32.41,26.14l-3.13-.54c4.69-3.62,16.38-12.06,20.81-15.98,3.04-2.69,9.12-8.69,11.18-12.09.75-1.24,1.61-3.37,1.95-4.82l3.20.57.54,5.52Z"}]},{"id":"Right_dorsal_pedal_artery","name":"Right dorsal pedal artery","paths":[{"d":"M209.09,1214.61c.21.07,5.98,12.34,6.15,12.75,7.71,17.59,16.01,32.67,26.68,49.26.73,1.14,6.52,6.68,5.95,8.67l-3.54,2.51c-3.92-5.65-11.31-18.08-14.93-23.91-6.34-10.19-13.35-22.09-18.64-33.15-.45-.94-2.36-4.97-2.47-5.56-.18-1-6.21-12.99-5.73-13.17.79-.3,0,0,5.75-.01l.77,2.61Z"}]},{"id":"Left_posterior_tibial_artery","name":"Left posterior tibial artery","paths":[{"d":"M422.4,1255.64c-.19.16,19.85-44.75,19.85-44.75,1.55-3.39,1.29-2.55,1.55-3.39,1.36-4.42,2.36-9.26,3.58-13.68,13.72-49.61,21.28-99.7,27.24-150.64,4.98-42.49,9.6-85.27,15.79-127.56,2.92-19.98,5.31-40.25,14.28-58.13.83-1.65,1.73-3.21,2.82-4.85h7.71c-4,8.4-9.23,25.34-11.75,34.31-7.15,25.41-9.61,53-12.95,79.11-9.6,75.03-16.49,150.79-36.16,223.7-1.9,7.04-23.2,58.76-24.75,65.88h-7.21Z"}]},{"id":"Right_posterior_tibial_artery","name":"Right posterior tibial artery","paths":[{"d":"M279.62,1254.71c-.43-2.14-19.59-48.75-20.23-50.82-23.69-76.49-30.56-158.42-40.72-237.86-4.12-32.22-7.01-66.82-19.05-97.47-1.18-3.01-5.48-14.08-4.84-17.53,0,0,5.41-.1,6.85,0,.85,1.88,1.95,4.63,2.87,6.42,8.9,17.35,11.42,38.61,14.28,58.13,6.19,42.3,10.81,85.09,15.79,127.58,5.96,50.91,13.51,101.08,27.24,150.65,1.22,4.41,23.85,56.49,25.22,60.9.31.99,0,0,0,0h-7.42Z"}]},{"id":"Left_peroneal_artery","name":"Left peroneal artery","paths":[{"d":"M493.82,1170.6c1.11,1.86,4.2,3.12,3.2,5.41-4.85-1.73-3.27-4.34-9.32-3.31-.96.16-5.03,2.45-5.08-.04,1.24.41,1.31-.71,1.8-.94.56-.26,1.46-.49,2.43-.92,2.13-.96,2.99-.13,3.4-3.22,1.82-13.87,4.65-27.52,6.75-41.2,8.36-54.43,17.34-109.44,24.94-164.43,1.53-11.08,2.2-22.37,3.91-33.48,1.17-7.57,3.57-19.18,2.35-26.84-.45-2.82-1.79-7.04-2.35-10.12-1.42-7.78-3.33-14.09-6.26-21.55-.71-1.82-4.32-16.16-4.37-17.32h6.85c.08.48.58,2.87.82,3.28,3.24,8.81,8.04,18.8,10.02,28.05,5.4,25.2-.83,51.77-4.67,76.61-7.24,46.9-14.75,93.33-22.64,140.36-3.65,21.74-7.88,43.81-11.01,65.7-.18,1.26-1.54,2.53-.78,3.96h.01Z"}]},{"id":"Right_peroneal_artery","name":"Right peroneal artery","paths":[{"d":"M220.65,1169.62c1.75.8,3.47,2.13,5.25,2.09l1.8,1.89c-2.96.52-5.39-1.39-8.34-1.26-2.15.09-3.39,3.42-5.8,3.67-.68-.51-.59-1.38-.26-2.05.18-.37,3.24-3,3.36-3.58.34-1.63-.74-2.46-.93-3.75-5.52-37.14-12.62-73.95-18.37-111.07-4.89-31.59-10.14-63.3-15.27-94.99-5.86-36.13-12.27-64.7,2.81-100.29.52-1.23,4-8.52,4.65-8.78h6.22c-1.23,3.28-3.75,15.19-5.02,18.45-4.91,12.53-9.88,30.51-8.63,44.1.18,1.98,1.19,3.76,1.4,5.31.29,2.12-.28,4.67,0,6.71,6.25,44.35,12.41,88.87,19.26,133.19,2.83,18.29,6.73,36.98,9.06,55.19,1.95,15.27,4.75,30.99,7.28,46.42.48,2.91,1.03,5.87,1.54,8.77v-.02Z"}]},{"id":"Right_anterior_tibital_artery","name":"Right anterior tibital artery","paths":[{"d":"M202.56,1212c-1.34-3.86-3.3-7.46-4.82-11.24-4.71-11.7-8.4-23.03-12.1-34.9-8.16-26.18-13.98-50.43-19.05-75.42-6.33-31.2-12.8-61.71-19.14-93.07-2.39-11.83-4.73-23.97-6.75-35.92-3.13-18.5-5.03-36.78-6.3-55.56-1.24-18.32-2.11-35.47,2.53-52.62,1.29-4.75,7.07-13.35,10.81-16.64,5.15-4.51,11.43-7.59,17.45-10.74l19.41-7.85c1.09.2,2.37,8.43,1.19,9.23-10.85,3.18-23.07,7.54-31.59,15.08-6.32,5.59-7.93,8.76-10.23,16.99-5.83,20.85-3.26,46.14-.93,67.63,1.72,15.9,4.55,31.39,7.33,46.85,5.08,28.27,10.81,56.86,16.3,84.4,7.78,38.95,15.54,78.59,27.39,115.99,3.02,9.55,7.56,20.42,13.14,35.77.27.74.65,1.39,1.11,2.01h-5.76,0Z"}]},{"id":"Left_anterior_tibial_artery","name":"Left anterior tibial artery","paths":[{"d":"M504.68,1213.17c1.48-3.94,1.01-2.77,1.48-3.94,9.08-22.32,16.4-43.74,22.29-67,4.14-16.33,7.33-32.69,10.81-49.13,4.29-20.28,8.22-40.06,12-59.93,3.67-19.27,7.87-38.7,11.37-58.16,2.78-15.46,5.61-30.95,7.33-46.85,2.33-21.5,4.9-46.79-.93-67.63-4.21-15.04-12.97-21.03-27.14-27.06-5.22-2.22-10.74-3.7-15.98-5.85-.5-3.35.06-6.42,1.34-9.49l4.02,2.47c13.35,5.29,31.1,11.12,39.49,23.34,4.15,6.05,5.07,11.13,6.5,17.49.75,3.33.91,4.09,1.35,7.76,2.87,24.1-.41,48.81-3.31,72.45-2.35,19.13-5.94,38.16-9.73,56.92-6.34,31.35-12.81,61.87-19.14,93.07-5.22,25.69-11.26,50.44-19.05,75.42-3.7,11.87-7.39,23.19-12.1,34.9-1.52,3.78-3.48,7.39-4.82,11.24h-5.76l-.02-.02Z"}]},{"id":"Right_tibioperoneal_trunk","name":"Right tibioperoneal trunk","polygons":[{"points":"195.71 818.56 201.64 851.57 189.29 851.57 183.36 818.56 195.71 818.56"}]},{"id":"Left_tibioperoneal_trunk","name":"Left tibioperoneal trunk","paths":[{"d":"M514.97,824.63l11.16-.04-.16,4.97c-3.92-.29.5-2.08,0,0-1.55,6.54-2.37,7.72-3.61,14.17-.35,1.83-1.43,7.58-.3,9.07.04.05,0,.13-.06.13h-14.71q1.45-2.04,1.8-3.18c2.23-7.31,3.47-15.41,4.94-22.98.15-.78.85-1.34.93-2.15h0Z"}]},{"id":"Left_popliteal_artery_artery","name":"Left popliteal artery","paths":[{"d":"M515.11,824.59c.05-1.68.29-3.41.61-5.05,2.68-14.05,6.88-27.99,8.96-41.62,5.41-35.55,8.84-69.7,5.77-106.1-2.03-24.1-6.37-47.82-9.08-71.61-.41-3.56-1.02-6.62-1.43-9.88-.31-2.46.27-5.09-.52-7.6h13.9c.08,1.2-.17,2.51.03,3.68,1.93,11.76,3.36,22.72,4.76,34.58,1.85,15.66,3.33,31.53,4.8,47.37,3.3,35.56,1.24,66.61-4.75,101.25-2.98,17.22-7.09,32.18-10.97,48.43-.45,1.87-.75,4.59-1.06,6.56h-11.02v-.02Z"}]},{"id":"Right_popliteal_artery_artery","name":"Right popliteal artery","paths":[{"d":"M190.48,591.84c-.38.99-.8,2.14-.91,3.19-1.38,13.6-3.19,27-4.9,40.41-2.29,17.92-4.18,35.66-5.21,53.57-1.61,27.92,2.49,57.27,6.73,84.41,2.08,13.33,6.35,26.94,8.97,40.68.28,1.46.47,2.98.61,4.45h-11.04c-.5-1.8-.64-4.25-1.06-5.93-5.39-21.52-12.01-44.09-14.3-66.67-1.77-17.49-3.87-35.26-3.38-53.08s2.72-33.81,4.34-50.64c1.32-13.77,2.99-28.14,4.81-41.48.41-2.97.72-6.02,1.44-8.92h13.92-.02Z"}]},{"id":"Left_superficial_femoral_artery","name":"Left superficial femoral artery","paths":[{"d":"M545.84,292.8c.42,2.05-1.09,3.96-1.41,5.7-5.48,29.96-8.21,60.19-14.46,90.25-6.99,33.64-7.72,65.64-5.75,100.33,1.59,28,4.57,55.91,8.15,83.51.44,3.36.79,6.8.99,10.19h-13.92c-.07-1.41.15-2.86-.05-4.26-2.73-19.16-5.84-38.15-8.07-57.26-4.64-39.7-6.27-80.19-.63-119.88,3.9-27.48,10.25-54.31,13.56-81.57.89-7.32,2.38-14.64,3.33-21.81.22-1.67-.09-3.5.03-5.2h18.24-.01Z"}]},{"id":"Right_superficial_femoral_artery","name":"Right superficial femoral artery","paths":[{"d":"M181.36,289.23c.13,2.11-.2,4.38.03,6.47.81,7.6,2.44,15.41,3.33,23.16,3.31,28.94,9.66,57.42,13.56,86.59,5.64,42.13,4,85.11-.63,127.25-2.39,21.73-5.16,43.75-8.15,65.53-.16,1.17-1.25,2.26-.93,3.64h-13.44c.32-4.89.87-9.81,1.47-14.67,3.61-29.27,6.57-58.93,8.15-88.65,1.97-36.83,1.24-70.79-5.75-106.52-6.25-31.92-8.92-64.02-14.46-95.81-.32-1.86-1.83-3.88-1.41-6.05l-2.4.48v-1.45h20.64,0Z"}]},{"id":"Right_profunda_femoral_artery","name":"Right profunda femoral artery","paths":[{"d":"M166.6,270.23v25.07l-.48-2.37-18.36,4.26c-1.19-.21-4.5-9.3-4.71-11.04,1.54-.81,3.04-1.91,4.57-2.71,5.45-2.86,13.02-4.75,16.46-10.48.4-.66,0-1.71.11-2.46l2.41-.27h0Z"}]},{"id":"Left_profunda_femoral_artery","name":"Left profunda femoral artery","paths":[{"d":"M542.89,266.18c.65,1.06.87,4.39,1.17,4.91,3.51,5.93,12.21,8.19,17.94,11.13,1.67.86,3.3,2.02,4.97,2.88-.23,1.85-3.84,11.5-5.13,11.72l-20-4.52c.45.96-.47,2.06-.53,2.52v-28.63h1.58Z"}]},{"id":"Left_common_femoral_artery","name":"Left common femoral artery","paths":[{"d":"M545.76,209.76c-.38,17.08.49,34.26.02,51.34-.18,6.55-1.79,13.86-1,20.77.17,1.51,1.11,5.73,2.12,6.29l2.71,4.65h-22.08l.48-83.04h17.76-.01Z"}]},{"id":"Right_common_femoral_artery","name":"Right common femoral artery","paths":[{"d":"M180.96,207.24l.48,82.52h-20.64c.22-.76,2.35-3.24,2.4-3.45,2.19-9.51.23-17.14-.02-26.35-.48-17.53.4-35.19.02-52.74h17.76Z"}]},{"id":"Left_external_iliac_artery","name":"Left external iliac artery","paths":[{"d":"M469.45,120.45c22.01,6.08,43.67,17.24,58.19,35.78,12.14,15.5,16.83,33.82,18.12,53.44.09,1.43-.04,2.87,0,4.3h-18.1c-.03-.89.11-1.84-.05-2.73-2.12-11.59-3.08-21.28-7.67-32-6.33-14.77-17.56-26.4-31.71-33.46-5.83-2.91-12.31-5.77-18.77-6.64v-18.7h0Z"}]},{"id":"Left_internal_iliac_artery","name":"Left internal iliac artery","paths":[{"d":"M469.44,133.21v5.47c-3.38,1.28-7.16,8.12-10.54,8.46s-11.1-3.24-15.2-2.6c-3.64-1.32-4.99-.76-1.51-3.85.54-.48,1.45-.65,1.99-1.18,1.54-1.52,3.83-4.12,3.79-6.27l21.48-.03h-.01Z"}]},{"id":"Left_common_iliac_artery","name":"Left common iliac artery","paths":[{"d":"M348.3,81.59l33.9.1c9.03,8.72,18.39,13.6,29.77,18.32,27.14,11.29,56.32,17.67,82.85,29.7l6.84,3.5h-54.02l-45.84-17.43c-9.12-7.22-19.17-12.94-28.88-19.23-3.94-2.55-18.59-13.63-21.6-14.36-.98-.24-2.03-.08-3.02-.1v-.5h-.01Z"}]},{"id":"Right_extrnal_iliac_artery","name":"Right extrnal iliac artery","paths":[{"d":"M238.56,138.11c-21.88,5.2-40.8,17.66-50.02,38.36-.59,1.32-1.54,2.6-1.72,3.04-2.45,5.94-3.43,14.28-4.43,20.45-.43,2.64-1.11,5.23-1.43,7.89h-17.76c-.2-2.99.67-5.91.96-8.84.37-3.84.2-6.45,1.08-10.39,7.38-32.83,30-53.05,60.86-64.1,4.11-1.47,8.47-2.31,12.47-4.07v17.67h-.01Z"}]},{"id":"Right_internal_iliac_artery","name":"Right internal iliac artery","paths":[{"d":"M238.58,132.21l20.47.1c.75,2.35,7.62,7.48,7.83,8.85s-2.89.92-3.6,1.9c-1.16.35-2.45-.06-3.57.17-2.49.51-10.5,3.04-12.28,2.85-3.66-.43-5.49-6.43-8.85-7.51v-6.35h.01Z"}]},{"id":"Right_common_iliac_artery","name":"Right common iliac artery","paths":[{"d":"M335.98,70.29h18.49v10.61l-3.16,1.01c-8.69,9.47-17.4,19.74-27.9,27.09-18.01,12.59-38.58,16.63-59.03,22.95-.26.08-1.53,1.47-3.05,1.47h-55.21l6.9-3.58c31.35-14.2,65.93-21.37,97.27-36.38,7.96-3.81,13.97-7.3,19.86-14.34,2.1-2.5,4.62-5.81,5.85-8.82h-.01Z"}]},{"id":"Aorta","name":"Aorta","paths":[{"d":"M337.88,1.02l32.94.04-.09,60.63c2.11,7.86,7.01,14.34,12.31,20.31l-54.72-.13c4.02-5.28,8.28-10.87,9.42-17.6l.13-63.25Z"}]}]}'),{root:N,segments:y}=(j=g,Array.isArray(j?.segments)?{root:j.root||{},segments:j.segments}:Array.isArray(j)?{root:{},segments:j}:(console.error("Vessel map JSON does not contain a segments array"),{root:{},segments:null}));var j;function h({selectedSegments:e=[],toggleSegment:t=()=>{},setTooltip:a}){const[n,l]=(0,o.useState)(null),i=e=>()=>{l((t=>t===e?null:t)),a&&a(null)},r=e=>()=>{t(e)};return Array.isArray(y)?(0,o.createElement)("div",{className:"vessel-map-wrapper"},(0,o.createElement)("svg",{...N,className:"vessel-svg"},y.map((t=>{const c=e.includes(t.id),u=n===t.id,L=t.paths||t.polygons||[];return(0,o.createElement)("g",{key:t.id,id:t.id,"data-name":t.name},L.map(((e,n)=>{const o=e.attrs?{...e.attrs}:e.d?{d:e.d}:{points:e.points},L=e.name||(e.points?"polygon":"path"),M=[o.class,"vessel-segment",c?"selected":"",u?"hovered":""].filter(Boolean).join(" ");return delete o.class,s().createElement(L,{key:n,...o,className:M,onMouseEnter:(m=t.id,d=t.name,e=>{if(l(m),a){const t=e.currentTarget.getBoundingClientRect(),n=e.currentTarget.closest(".vessel-map-wrapper"),l=n?n.getBoundingClientRect():{left:0,top:0,width:0,height:0},{side:o,x:s,y:i}=((e,t,a={width:0,height:0})=>{const n=t.left+t.width/2;let l=e.left+e.width/2<n?"left":"right",o="left"===l?e.left-t.left-8:e.right-t.left+8,s=e.top-t.top+e.height/2;return"left"===l&&o-a.width<0?e.right-t.left+8+a.width<=t.width?(l="right",o=e.right-t.left+8):o=a.width:"right"===l&&o+a.width>t.width&&(e.left-t.left-8-a.width>=0?(l="left",o=e.left-t.left-8):o=t.width-a.width),s-a.height/2<0?s=a.height/2:s+a.height/2>t.height&&(s=t.height-a.height/2),{side:l,x:o,y:s}})(t,l);a({name:d,x:s,y:i,side:o,segRect:t,wrapperRect:l})}}),onMouseLeave:i(t.id),onClick:r(t.id)});var m,d})))})))):(0,o.createElement)("div",{className:"vessel-map-wrapper"},(0,o.createElement)("p",{className:"vessel-map-error"},"Unable to load vessel segments."))}const S=["<3cm","3–10cm","10–15cm","15–20cm",">20cm"],E=["<3","3-10","10-15","15-20",">20"];function C({segmentName:e,initialValues:t,onSave:a,onCancel:n}){const[l,s]=(0,o.useState)(t.type||""),[r,c]=(0,o.useState)(t.length||""),[u,L]=(0,o.useState)(t.calcium||""),[m,d]=(0,o.useState)(!1),p=(0,o.useRef)(null);return(0,o.useEffect)((()=>{s(t.type||""),c(t.length||""),L(t.calcium||""),d(!1)}),[t]),(0,o.useEffect)((()=>{const e=e=>{p.current&&!p.current.contains(e.target)&&n()};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}),[n]),(0,o.useEffect)((()=>{m&&l&&r&&u&&a({type:l,length:r,calcium:u})}),[l,r,u,m,a]),(0,o.createElement)("div",{className:"param-box",ref:p},(0,o.createElement)("h4",null,e),(0,o.createElement)("div",{className:"param-section"},(0,o.createElement)("div",{className:"param-title"},(0,i.__)("Patency","endoplanner")),(0,o.createElement)(M,{options:[{label:(0,i.__)("Stenosis","endoplanner"),value:"stenosis"},{label:(0,i.__)("Occlusion","endoplanner"),value:"occlusion"}],value:l,onChange:e=>{s(e),d(!0)}})),(0,o.createElement)("div",{className:"param-section"},(0,o.createElement)("div",{className:"param-title"},(0,i.__)("Length","endoplanner")),(0,o.createElement)(M,{options:E.map(((e,t)=>({label:S[t],value:e}))),value:r,onChange:e=>{c(e),d(!0)},ariaLabel:(0,i.__)("Length","endoplanner")})),(0,o.createElement)("div",{className:"param-section"},(0,o.createElement)("div",{className:"param-title"},(0,i.__)("Calcium","endoplanner")),(0,o.createElement)(M,{options:[{label:(0,i.__)("None","endoplanner"),value:"none"},{label:(0,i.__)("Moderate","endoplanner"),value:"moderate"},{label:(0,i.__)("Heavy","endoplanner"),value:"heavy"}],value:u,onChange:e=>{L(e),d(!0)},ariaLabel:(0,i.__)("Calcium","endoplanner")})))}C.propTypes={segmentName:L().string.isRequired,initialValues:L().shape({type:L().string,length:L().string,calcium:L().string}),onSave:L().func.isRequired,onCancel:L().func.isRequired};const w=(e=>Array.isArray(e?.segments)?e.segments:Array.isArray(e)?e:null)(g)||[],T=window.wp.components;function v({options:e,value:t,onChange:a,buttonLabel:n=(0,i.__)("Choose","endoplanner"),image:l}){const[s,r]=(0,o.useState)(!1),c=(0,o.useRef)(null),u=e.filter((e=>"Custom"!==e)),L=e.includes("Custom"),m=u.includes(t),[d,p]=(0,o.useState)(m?t:L&&t?"Custom":""),[g,N]=(0,o.useState)(m?"":t||"");(0,o.useEffect)((()=>{const e=u.includes(t);p(e?t:L&&t?"Custom":""),N(e?"":t||"")}),[t,u,L]),(0,o.useEffect)((()=>{if(!s)return;const e=e=>{c.current&&!c.current.contains(e.target)&&r(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}),[s]);const y=t||n;return(0,o.createElement)("div",{className:"inline-device-select",ref:c},(0,o.createElement)("button",{type:"button",className:"device-button",onClick:()=>r((e=>!e))},l&&(0,o.createElement)("img",{src:l,alt:""}),(0,o.createElement)("span",null,y)),s&&(0,o.createElement)("div",{className:"device-dropdown"},(0,o.createElement)(M,{options:[...u.map((e=>({label:e,value:e}))),...L?[{label:(0,i.__)("Custom","endoplanner"),value:"Custom"}]:[]],value:d,onChange:e=>{p(e),"Custom"===e?g||a(""):(a(e),r(!1))},ariaLabel:(0,i.__)("Device","endoplanner")}),"Custom"===d&&(0,o.createElement)("input",{type:"text",className:"custom-device-input",value:g,onChange:e=>{return t=e.target.value,N(t),void a(t);var t},placeholder:(0,i.__)("Enter custom device","endoplanner")})))}v.propTypes={options:L().arrayOf(L().string).isRequired,value:L().string,onChange:L().func.isRequired,buttonLabel:L().string,image:L().string};const b="https://endoplanner.thesisapps.com/wp-content/uploads/2023/09/catheter.jpg",D="https://endoplanner.thesisapps.com/wp-content/uploads/2023/09/miscdevice.jpg",f=["6F AngioSeal","8F AngioSeal","Perclose ProStyle","Exoseal","Starclose","14F Manta","18F Manta","Mynx","Custom"],I=["Re-entry device","IVUS catheter","Vascular plug","Embolization coils","Closure device","Shockwave","Scoring balloon","Atherectomy device","Thrombectomy device","Custom"],z=()=>Math.random().toString(36).substr(2,9),x=({title:e,isOpen:t,onRequestClose:a,children:n})=>{const l=(0,o.useRef)(null),s=(0,o.useRef)(null);return(0,o.useEffect)((()=>(t&&(console.log(`[Popup] Opened: ${e}`),s.current=document.activeElement,setTimeout((()=>l.current?.focus()),0)),()=>{t&&(console.log(`[Popup] Closed: ${e}`),s.current?.focus())})),[t,e]),t?(0,o.createElement)("div",{className:"inline-modal-overlay",onClick:a},(0,o.createElement)("div",{className:"inline-modal centered",onClick:e=>e.stopPropagation(),ref:l,tabIndex:"-1"},(0,o.createElement)("div",{className:"modal-header"},e),n)):null};x.propTypes={title:L().string.isRequired,isOpen:L().bool.isRequired,onRequestClose:L().func.isRequired,children:L().node.isRequired};const O=e=>(0,o.createElement)(x,{...e});function R({label:e,img:t,onClick:a}){return(0,o.createElement)("button",{type:"button",className:"device-button",onClick:t=>{console.log("Device button clicked",e),a(t)}},(0,o.createElement)("img",{src:t,alt:""}),(0,o.createElement)("span",null,e))}O.propTypes={title:L().string.isRequired,isOpen:L().bool.isRequired,onRequestClose:L().func.isRequired,children:L().node.isRequired},R.propTypes={label:L().string.isRequired,img:L().string.isRequired,onClick:L().func.isRequired};const k=(e,t)=>{if(!t||"object"!=typeof t)return"";switch(e){case"needle":return t.size?t.size.replace(" Gauge","G"):"";case"sheath":return t.frSize||"";case"catheter":return t.specific||"";case"wire":case"balloon":case"stent":return t.platform||"";default:return(e=>e&&"object"==typeof e?Object.values(e).filter(Boolean).join(" "):"")(t)}};function A({isOpen:e,anchor:t,onRequestClose:a,value:n,onSave:l}){return e?(0,o.createElement)(O,{title:(0,i.__)("Select Vessel","endoplanner"),isOpen:e,anchor:t,placement:"bottom",onRequestClose:a},(0,o.createElement)("ul",{className:"vessel-dropdown"},(0,o.createElement)("li",null,(0,o.createElement)("button",{type:"button",className:"dropdown-item",disabled:!0},(0,i.__)("Choose vessel","endoplanner"))),["CFA","SFA","ATA","TTP","ATP","ADP"].map((e=>(0,o.createElement)("li",{key:e},(0,o.createElement)("button",{type:"button",className:"dropdown-item"+(n===e?" selected":""),onClick:()=>(e=>{console.log("[Popup] Selected: "+e),l(e),a()})(e)},e))))),(0,o.createElement)("div",{className:"popup-close-row"},(0,o.createElement)("button",{type:"button",className:"circle-btn close-modal-btn",onClick:()=>{console.log("[Popup] X closed"),a()}},"×"))):null}function _({isOpen:e,anchor:t,onRequestClose:a,values:n,onSave:l}){const[s,r]=(0,o.useState)(n.size||""),[c,u]=(0,o.useState)(n.length||"");(0,o.useEffect)((()=>{r(n.size||""),u(n.length||"")}),[n]);const L=(e,t)=>{const n={size:s,length:c,[e]:t};"size"===e?r(t):u(t),console.log("[Popup] Updated: ",n),l(n),n.size&&n.length&&a()};return(0,o.createElement)(O,{title:(0,i.__)("Needle","endoplanner"),isOpen:e,anchor:t,onRequestClose:a},(0,o.createElement)(T.SelectControl,{label:(0,i.__)("Needle size","endoplanner"),value:s,options:[{label:(0,i.__)("Choose size","endoplanner"),value:"",disabled:!0},...["19 Gauge","21 Gauge"].map((e=>({label:e,value:e})))],onChange:e=>L("size",e)}),(0,o.createElement)(T.SelectControl,{label:(0,i.__)("Needle length","endoplanner"),value:c,options:[{label:(0,i.__)("Choose length","endoplanner"),value:"",disabled:!0},...["4cm","7cm","9cm"].map((e=>({label:e,value:e})))],onChange:e=>L("length",e)}),(0,o.createElement)("div",{className:"popup-close-row"},(0,o.createElement)("button",{type:"button",className:"circle-btn close-modal-btn",onClick:()=>{console.log("[Popup] X closed"),a()}},"×")))}function Q({isOpen:e,anchor:t,onRequestClose:a,values:n,onSave:l}){const[s,r]=(0,o.useState)(n.frSize||""),[c,u]=(0,o.useState)(n.length||"");(0,o.useEffect)((()=>{r(n.frSize||""),u(n.length||"")}),[n]);const L=(e,t)=>{const n={frSize:s,length:c,[e]:t};"frSize"===e?r(t):u(t),console.log("[Popup] Updated: ",n),l(n),n.frSize&&n.length&&a()};return(0,o.createElement)(O,{title:(0,i.__)("Sheath","endoplanner"),isOpen:e,anchor:t,onRequestClose:a},(0,o.createElement)(T.SelectControl,{label:(0,i.__)("French size","endoplanner"),value:s,options:[{label:(0,i.__)("Choose size","endoplanner"),value:"",disabled:!0},...["4 Fr","5 Fr","6 Fr","7 Fr","8 Fr","9 Fr"].map((e=>({label:e,value:e})))],onChange:e=>L("frSize",e)}),(0,o.createElement)(T.SelectControl,{label:(0,i.__)("Length","endoplanner"),value:c,options:[{label:(0,i.__)("Choose length","endoplanner"),value:"",disabled:!0},...["10 cm","12 cm","25 cm"].map((e=>({label:e,value:e})))],onChange:e=>L("length",e)}),(0,o.createElement)("div",{className:"popup-close-row"},(0,o.createElement)("button",{type:"button",className:"circle-btn close-modal-btn",onClick:()=>{console.log("[Popup] X closed"),a()}},"×")))}function U({isOpen:e,anchor:t,onRequestClose:a,values:n,onSave:l}){const[s,r]=(0,o.useState)(""),[c,u]=(0,o.useState)(""),[L,M]=(0,o.useState)("");(0,o.useEffect)((()=>{r(n.size||""),u(n.length||""),M(n.specific||"")}),[n]);const m=(e,t)=>{const n={size:s,length:c,specific:L,[e]:t};"size"===e&&r(t),"length"===e&&u(t),"specific"===e&&M(t),console.log("[Popup] Updated: ",n),l(n),n.size&&n.length&&n.specific&&a()};return(0,o.createElement)(O,{title:(0,i.__)("Catheter","endoplanner"),isOpen:e,anchor:t,onRequestClose:a},(0,o.createElement)(T.SelectControl,{label:(0,i.__)("Specific catheter","endoplanner"),value:L,options:[{label:(0,i.__)("Choose catheter","endoplanner"),value:"",disabled:!0},...["BER2","BHW","Cobra 1","Cobra 2","Cobra 3","Cobra Glidecath","CXI 0.018","CXI 0.014","Navicross 0.018","Navicross 0.035","MultiPurpose","PIER","Pigtail Flush","Straight Flush","Universal Flush","Rim","Simmons 1","Simmons 2","Simmons 3","Vertebral"].map((e=>({label:e,value:e})))],onChange:e=>m("specific",e)}),(0,o.createElement)(T.SelectControl,{label:(0,i.__)("French size","endoplanner"),value:s,options:[{label:(0,i.__)("Choose size","endoplanner"),value:"",disabled:!0},...["2.3 Fr","2.6 Fr","4 Fr","5 Fr","6 Fr","7 Fr"].map((e=>({label:e,value:e})))],onChange:e=>m("size",e)}),(0,o.createElement)(T.SelectControl,{label:(0,i.__)("Length","endoplanner"),value:c,options:[{label:(0,i.__)("Choose length","endoplanner"),value:"",disabled:!0},...["40 cm","65 cm","80 cm","90 cm","105 cm","110 cm","125 cm","135 cm","150 cm"].map((e=>({label:e,value:e})))],onChange:e=>m("length",e)}),(0,o.createElement)("div",{className:"popup-close-row"},(0,o.createElement)("button",{type:"button",className:"circle-btn close-modal-btn",onClick:()=>{console.log("[Popup] X closed"),a()}},"×")))}function Y({isOpen:e,anchor:t,onRequestClose:a,values:n,onSave:l}){const[s,r]=(0,o.useState)(n.platform||""),[c,u]=(0,o.useState)(n.length||""),[L,m]=(0,o.useState)(n.type||""),[d,p]=(0,o.useState)(n.body||""),[g,N]=(0,o.useState)(n.support||""),[y,j]=(0,o.useState)(n.technique||""),[h,S]=(0,o.useState)(n.product||"");(0,o.useEffect)((()=>{r(n.platform||""),u(n.length||""),m(n.type||""),p(n.body||""),N(n.support||""),j(n.technique||""),S(n.product||"")}),[n]);const E=(e,t)=>{const n={platform:s,length:c,type:L,body:d,support:g,technique:y,product:h,[e]:t};switch(e){case"platform":r(t);break;case"length":u(t);break;case"type":m(t);break;case"body":p(t);break;case"support":N(t);break;case"technique":j(t);break;case"product":S(t)}console.log("[Popup] Updated: ",n),l(n),n.platform&&n.length&&n.type&&n.technique&&a()};return(0,o.createElement)(O,{title:(0,i.__)("Wire","endoplanner"),isOpen:e,anchor:t,onRequestClose:a},(0,o.createElement)(M,{options:["0.014","0.018","0.035"].map((e=>({label:e,value:e}))),value:s,onChange:e=>E("platform",e),ariaLabel:(0,i.__)("Platform","endoplanner")}),(0,o.createElement)(T.SelectControl,{label:(0,i.__)("Length","endoplanner"),value:c,options:["180 cm","260 cm","300 cm"].map((e=>({label:e,value:e}))),onChange:e=>E("length",e)}),(0,o.createElement)(M,{options:[{label:"Glidewire",value:"Glidewire"},{label:"CTO wire",value:"CTO wire"},{label:"Support wire",value:"Support wire"}],value:L,onChange:e=>E("type",e),ariaLabel:(0,i.__)("Type","endoplanner")}),"CTO wire"===L&&(0,o.createElement)(T.SelectControl,{label:(0,i.__)("Body type","endoplanner"),value:d,options:[{label:(0,i.__)("Choose body","endoplanner"),value:"",disabled:!0},...["Light bodied","Intermediate bodied","Heavy bodied"].map((e=>({label:e,value:e})))],onChange:e=>E("body",e)}),"Support wire"===L&&(0,o.createElement)(T.SelectControl,{label:(0,i.__)("Support wire","endoplanner"),value:g,options:[{label:(0,i.__)("Choose wire","endoplanner"),value:"",disabled:!0},...["Rosen wire","Lunderquist wire","Amplatz wire","Bentson wire","Meier wire","Newton wire"].map((e=>({label:e,value:e})))],onChange:e=>E("support",e)}),(0,o.createElement)(M,{options:[{label:"Intimal Tracking",value:"Intimal Tracking"},{label:"Limited sub-intimal dissection and re-entry",value:"Limited sub-intimal dissection and re-entry"}],value:y,onChange:e=>E("technique",e),ariaLabel:(0,i.__)("Technique","endoplanner")}),(0,o.createElement)(T.SelectControl,{label:(0,i.__)("Product","endoplanner"),value:h,options:[{label:(0,i.__)("Choose product","endoplanner"),value:"",disabled:!0},{label:(0,i.__)("None","endoplanner"),value:"none"}],onChange:e=>E("product",e)}),(0,o.createElement)("div",{className:"popup-close-row"},(0,o.createElement)("button",{type:"button",className:"circle-btn close-modal-btn",onClick:()=>{console.log("[Popup] X closed"),a()}},"×")))}function P({isOpen:e,anchor:t,onRequestClose:a,values:n,onSave:l}){const[s,r]=(0,o.useState)(n.platform||""),[c,u]=(0,o.useState)(n.diameter||""),[L,m]=(0,o.useState)(n.length||""),[d,p]=(0,o.useState)(n.shaft||"80 cm");(0,o.useEffect)((()=>{r(n.platform||""),u(n.diameter||""),m(n.length||"")}),[n]);const g={.014:["1.5","2","2.5","3.5","4"],.018:["2","2.5","3","4","5","5.5","6","7"],.035:["3","4","5","6","7","8","9","10","12","14"]},N=(e,t)=>{const n={platform:s,diameter:c,length:L,shaft:d,[e]:t};"platform"===e&&(r(t),u(t?g[t][0]:"")),"diameter"===e&&u(t),"length"===e&&m(t),"shaft"===e&&p(t),console.log("[Popup] Updated: ",n),l({platform:n.platform,diameter:n.diameter,length:n.length,shaft:n.shaft}),n.platform&&n.diameter&&n.length&&n.shaft&&a()};return(0,o.createElement)(O,{title:(0,i.__)("PTA Balloon","endoplanner"),isOpen:e,anchor:t,onRequestClose:a},(0,o.createElement)(M,{options:["0.014","0.018","0.035"].map((e=>({label:e,value:e}))),value:s,onChange:e=>N("platform",e),ariaLabel:(0,i.__)("Platform","endoplanner")}),(0,o.createElement)(T.SelectControl,{label:(0,i.__)("Diameter","endoplanner"),value:c,options:(g[s]||[]).map((e=>({label:e,value:e}))),onChange:e=>N("diameter",e)}),(0,o.createElement)(T.SelectControl,{label:(0,i.__)("Length (mm)","endoplanner"),value:L,options:[{label:(0,i.__)("Choose length","endoplanner"),value:"",disabled:!0},...["10","12","15","18","20","30","40","50","60","70","80","90","100","110","120"].map((e=>({label:e,value:e})))],onChange:e=>N("length",e)}),(0,o.createElement)(T.SelectControl,{label:(0,i.__)("Shaft length","endoplanner"),value:d,className:"selector--sm",options:[{label:"80 cm",value:"80 cm"},{label:"135 cm",value:"135 cm"}],onChange:e=>N("shaft",e)}),(0,o.createElement)("div",{className:"popup-close-row"},(0,o.createElement)("button",{type:"button",className:"circle-btn close-modal-btn",onClick:()=>{console.log("[Popup] X closed"),a()}},"×")))}A.propTypes={isOpen:L().bool.isRequired,anchor:L().object,onRequestClose:L().func.isRequired,value:L().string,onSave:L().func.isRequired},_.propTypes={isOpen:L().bool.isRequired,anchor:L().object,onRequestClose:L().func.isRequired,values:L().object,onSave:L().func.isRequired},Q.propTypes={isOpen:L().bool.isRequired,anchor:L().object,onRequestClose:L().func.isRequired,values:L().object,onSave:L().func.isRequired},U.propTypes={isOpen:L().bool.isRequired,anchor:L().object,onRequestClose:L().func.isRequired,values:L().object,onSave:L().func.isRequired},Y.propTypes={isOpen:L().bool.isRequired,anchor:L().object,onRequestClose:L().func.isRequired,values:L().object,onSave:L().func.isRequired},P.propTypes={isOpen:L().bool.isRequired,anchor:L().object,onRequestClose:L().func.isRequired,values:L().object,onSave:L().func.isRequired};const q={.014:["2","3","4","5"],.018:["4","5","6","7"],.035:["5","6","7","8","9","10"]},Z={.014:["20","40","60","80"],.018:["40","60","80","100"],.035:["40","60","80","100","120"]};function F({isOpen:e,anchor:t,onRequestClose:a,values:n,onSave:l}){const[s,r]=(0,o.useState)(n.platform||""),[c,u]=(0,o.useState)(n.type||""),[L,m]=(0,o.useState)(n.material||""),[d,p]=(0,o.useState)(n.diameter||""),[g,N]=(0,o.useState)(n.length||""),[y,j]=(0,o.useState)(n.shaft||"80 cm");(0,o.useEffect)((()=>{r(n.platform||""),u(n.type||""),m(n.material||""),p(n.diameter||""),N(n.length||"")}),[n]);const h=(e,t)=>{const n={platform:s,type:c,material:L,diameter:d,length:g,shaft:y,[e]:t};switch(e){case"platform":r(t),p(t?q[t][0]:""),N(t?Z[t][0]:"");break;case"type":u(t);break;case"material":m(t);break;case"diameter":p(t);break;case"length":N(t);break;case"shaft":j(t)}console.log("[Popup] Updated: ",n),l({platform:n.platform,type:n.type,material:n.material,diameter:n.diameter,length:n.length,shaft:n.shaft}),n.platform&&n.type&&n.material&&n.diameter&&n.length&&n.shaft&&a()};return(0,o.createElement)(O,{title:(0,i.__)("Stent","endoplanner"),isOpen:e,anchor:t,onRequestClose:a},(0,o.createElement)(M,{options:["0.014","0.018","0.035"].map((e=>({label:e,value:e}))),value:s,onChange:e=>h("platform",e),ariaLabel:(0,i.__)("Platform","endoplanner")}),(0,o.createElement)(M,{options:[{label:"self expandable",value:"self expandable"},{label:"balloon expandable",value:"balloon expandable"}],value:c,onChange:e=>h("type",e),ariaLabel:(0,i.__)("Stent type","endoplanner")}),(0,o.createElement)(M,{options:[{label:"bare metal",value:"bare metal"},{label:"covered",value:"covered"}],value:L,onChange:e=>h("material",e),ariaLabel:(0,i.__)("Stent material","endoplanner")}),(0,o.createElement)(T.SelectControl,{label:(0,i.__)("Diameter","endoplanner"),value:d,options:[{label:(0,i.__)("Choose diameter","endoplanner"),value:"",disabled:!0},...(q[s]||[]).map((e=>({label:e,value:e})))],onChange:e=>h("diameter",e)}),(0,o.createElement)(T.SelectControl,{label:(0,i.__)("Length","endoplanner"),value:g,options:[{label:(0,i.__)("Choose length","endoplanner"),value:"",disabled:!0},...(Z[s]||[]).map((e=>({label:e,value:e})))],onChange:e=>h("length",e)}),(0,o.createElement)(T.SelectControl,{label:(0,i.__)("Shaft length","endoplanner"),value:y,className:"selector--sm",options:[{label:"80 cm",value:"80 cm"},{label:"135 cm",value:"135 cm"}],onChange:e=>h("shaft",e)}),(0,o.createElement)("div",{className:"popup-close-row"},(0,o.createElement)("button",{type:"button",className:"circle-btn close-modal-btn",onClick:()=>{console.log("[Popup] X closed"),a()}},"×")))}F.propTypes={isOpen:L().bool.isRequired,anchor:L().object,onRequestClose:L().func.isRequired,values:L().object,onSave:L().func.isRequired};const G=({onAdd:e,onRemove:t,showRemove:a,label:n,showAdd:l=!0})=>(0,o.createElement)("div",{className:"row-controls"},n&&(0,o.createElement)("span",{className:"row-add-label"},n),l&&(0,o.createElement)("button",{type:"button",className:"circle-btn small-circle-btn add-row-btn",onClick:()=>{console.log("Add row"),e()}},"+"),a&&(0,o.createElement)("button",{type:"button",className:"circle-btn small-circle-btn remove-row-btn",onClick:()=>{console.log("Remove row"),t()}},"−"));function W({index:e,values:t,onChange:a,onAdd:n,onRemove:l,showRemove:s}){const[r,c]=(0,o.useState)(!1),[u,L]=(0,o.useState)(!1),[m,d]=(0,o.useState)(!1),[p,g]=(0,o.useState)(!1),[N,y]=(0,o.useState)(null),[j,h]=(0,o.useState)(null),[S,E]=(0,o.useState)(null),[C,w]=(0,o.useState)(null),[T,v]=(0,o.useState)(0),[D,f]=(0,o.useState)(0),[I,z]=(0,o.useState)(0),x=t||{},O=x.vessel||(0,i.__)("Vessel","endoplanner"),Y=x.needles||[{}],P=x.sheaths||[{}],q=x.catheters||[{}],Z=(e,t,a)=>e.map(((e,n)=>n===t?a:e)),F=()=>{console.log("Add needle"),a({...x,needles:[...Y,{}]})},W=()=>{console.log("Add sheath"),a({...x,sheaths:[...P,{}]})},B=()=>{console.log("Add catheter"),a({...x,catheters:[...q,{}]})};return(0,o.createElement)("div",{className:"intervention-row"},(0,o.createElement)("div",{className:"row-inner"},(0,o.createElement)(M,{options:[{label:"Antegrade",value:"Antegrade"},{label:"Retrograde",value:"Retrograde"}],value:x.approach||"",onChange:e=>{console.log("Access approach",e),a({...x,approach:e})},ariaLabel:(0,i.__)("Approach","endoplanner")}),(0,o.createElement)(M,{options:[{label:"Left",value:"Left"},{label:"Right",value:"Right"}],value:x.side||"",onChange:e=>a({...x,side:e}),ariaLabel:"Side"}),(0,o.createElement)("div",{className:"device-grid"},(0,o.createElement)("div",{className:"device-column"},(0,o.createElement)(R,{label:O,img:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyBpZD0iTGFhZ18xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDcwOC40OCAxNDg0LjY0Ij4KICA8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMjkuNi4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogMi4xLjEgQnVpbGQgMjA3KSAgLS0+CiAgPGcgaWQ9IkxlZnRfbWV0YXRhcnNhbF9hcnRlcmllcyI+CiAgICA8Zz4KICAgICAgPHBhdGggZD0iTTQzMi45NCwxMzg3LjYzYy42MSwxLjY4LTEuMTksMi4zMy0xLjQyLDMuNTYtMi41NiwxMy42OC01LjY3LDI3Ljc1LTguMTgsNDEuNDUtLjEyLjY0LTEuMjksMi44MS0yLjEyLDIuNjQtMi4yNy0xLjQ0LS41OS0zLjUtLjMxLTUuNTMsMS44LTEyLjYzLDQuNTMtMjUuMTIsNy4xNC0zNy43My4zMS0xLjQ4LjAyLTMuMTIuNTctNC41OWw0LjMyLjE5aDBaIi8+CiAgICAgIDxwYXRoIGQ9Ik00NTYuNDEsMTM5MS40OWMuNjIsMy4zLS42OCw2LjQ2LS45MSw5LjY5LS42NCw5LjAxLS42MSwxOC4xNi0xLjQzLDI3LjE5LS4yNSwyLjc0LS41OSw1Ljg2LS45NSw4LjYtLjA5LjY3LjI2LjgxLS43My43MS0zLjItLjUzLS44Mi02LjUxLS43LTguODEuMzktNy4yNy4wNi0xNC42Ni40Ny0yMS45NC4zLTUuMzEsMS41MS0xMC42Ljk2LTE1Ljk4bDMuMjkuNTVoMFoiLz4KICAgICAgPHBhdGggZD0iTTUwNS40NCwxMzg4LjU2Yy42NiwyLjc0LDEuMDMsNS41MiwxLjQ5LDguMywxLjE4LDcuMDMsMi4zNSwxMy44OCwzLjM2LDIwLjk4LjIsMS40NCwyLjY0LDkuNDMuNjYsOS44Mi0xLjg1LjM2LTIuMDUtNC4xOS0yLjMtNS4zMy0yLjE1LTkuOTUtNC43NC0yMC43NS02LjU2LTMwLjY5LS40OC0yLjYsMS4xMS0yLjg5LDMuMzQtMy4wN2guMDFaIi8+CiAgICAgIDxwYXRoIGQ9Ik00ODEuOTIsMTM5My44MWwxLjkyLDQwLjA1LTEuODgtLjA0Yy4wNC0uOS0uMzctMS43Ny0uNDUtMi42NS0xLTEwLjU4LTEuMjktMjEuMjItMi41Mi0zMS44My0uMjEtMS44NC0xLjA4LTMuNjUtLjkxLTUuNTRoMy44NFoiLz4KICAgICAgPHBhdGggZD0iTTUzMi44LDE0MTUuNzRjLTEuNDQuNDctMi4wMi0xLjA3LTIuMjktMi4yNS0xLjA4LTQuNzUtMi41MS05LjkxLTMuNzQtMTQuODgtMS4zOC01LjU1LTIuODMtMTEuMTUtMy44LTE2Ljc1bDIuNC0xLjM5LDcuNDMsMzUuMjhoMFoiLz4KICAgIDwvZz4KICA8L2c+CiAgPGcgaWQ9IkxlZnRfcGxhbnRhcl9hcmNoIj4KICAgIDxwYXRoIGQ9Ik00NjQuOTEsMTI4Ni4yOWMuNy44NSwxLjU5LDEuNywyLjQ1LDIuMiw3LjIyLDQuMiwxNS4wOCwxMS40NCwyMS40OSwxNi44NC43Ny42NSwyLjQ5LDEuODEsMy40NSwyLjI2LDE1LjU0LDE0LjA3LDQyLjM5LDQxLjc4LDM0LjU0LDYzLjQ1LTEuMTcsMy4yMi0yLjg4LDQuMjMtMi4xNyw4LjMuNCwyLjMyLDIuODksNS4wOS0xLjQ2LDUuOTktLjM5LTEuODUtLjY5LTMuNjItLjk3LTUuNS0uMDktLjYyLjI5LS44Ni0uNzItLjcyLTMuMjYuNDYtMTEuMDUsNy42Ni0xNS42Miw3LjM5LTEuNTgsMi44MS41Nyw1LjU3LjUsOC4zOWwtMy4yNi0uMTEtMS44NS02LjYyLTE5LjM4LDIuNDN2My4zNWwtMy43Ny0uNTQtLjEzLTIuMjZjLS41MS0uMjQtMS4wOS0uNDItMS42NS0uNDktNi4zMy0uODItMTYuMjcsMS4xNS0yMS45NC0uMTUtNC40NC0xLjAxLTEwLjg0LTQuMTQtMTQuNjQtNi4wNy0xLjY3LS44NS0zLjQzLTEuNjYtNS4xNC0yLjQ0LTEuMDgtLjE0LS41Ny4xNy0uNy43Mi0uNCwxLjY1LTEuMDIsMy4yOS0uOTgsNS4wMmwtMy44Mi0uNWMtLjQ5LS41NiwxLjYtOC4xOCwxLjM0LTkuNjYtLjM0LTItMy45NS01Ljk3LTQuNi04Ljg0LTUuNTEtMjQuMzgsMTYuNDctNjIuNzksMzIuODMtODAuMjguNTQtLjU3LDEuMTYtMS43OCwxLjgtMi4xNmwxLjk1LS4xMSwyLjQ1LjExWk00NjcuMzIsMTI5Mi44MmMtMS40MS0uOTItMi44Mi0xLjkxLTQuMzctMi42LS42NSwwLTMuMzMsMi44Mi0zLjksMy41Mi0xMS4zMywxNC4xMy0yOC42Myw0Mi4yNy0yOS45Myw2MC4yOS0xLjI5LDE3LjksMi45MywyNS4yMSwxOS42LDMxLjE1LDE0Ljg2LDUuMjksMzMuOTEsMy4xOCw0OS40LjI3LDE4LjE2LTMuNDEsMjkuOTUtMTEuODksMjQuOTMtMzIuMjQtNS0yMC4zLTM4LjIzLTQ5LjAzLTU1Ljc0LTYwLjM5aDBaIi8+CiAgPC9nPgogIDxnIGlkPSJMZWZ0X2xhdGVyYWxfcGxhbnRhcl9hcnRlcnkiPgogICAgPHBhdGggZD0iTTQyMi40LDEyNTUuNjRjLjQ0LS4zMy41MywwLDQuMDgsMGwtNS44OSwxOS4wNWMtNC45NSwyNC4yLTExLjcsNDguMzgtMTUuNDQsNzIuNy00LjE1LDI3LjAxLTcuMzUsNTIuMzEtNS44LDgwLjQ0LjA5LDEuNTUsMi42MiwxMC44NC0uNyw5Ljc5LS42OS0uMjItLjYzLTEuMTItLjczLTEuNjctNi4zLTM2LjQ5LjQtNzMuMjksNy0xMDguOSwzLjE1LTE3LjAxLDYuNDItMzQuNDgsMTAuODgtNTEuMzksMS4zOS01LjI1LDMuMjktMTAuNDIsNC42OS0xNS42OGwxLjkxLTQuMzRaIi8+CiAgPC9nPgogIDxnIGlkPSJMZWZ0X2RvcnNhbF9wZWRhbF9hcnRlcnkiPgogICAgPHBhdGggZD0iTTQ5Ny4zMiwxMjMyYy0uMDQuMDYuMTktLjQ1LDAsMC00LjUzLDExLjAzLTExLjY3LDIyLjU3LTE3Ljc4LDMyLjM5LTQuMzYsNy05LjU2LDE1LjM3LTE0LjYzLDIxLjktNC4zNiwwLTQuMzkuMTYtNC4zOS4xNi4xOC0uNTQsNC4yMy02LjA2LDQuNDQtNi4zOCwxMC4yNi0xNS42OCwxOS42Mi0zMS4xOCwyNy4zNy00Ny42MmwxMi4zNi0xOS4yOGMxLjE5LS42Niw1LjkyLS4yNiw1Ljc2LDBsLTEzLjEyLDE4LjgzWiIvPgogIDwvZz4KICA8ZyBpZD0iTGVmdF9tZWRpYWxfcGxhbnRhcl9hcnRlcnkiPgogICAgPHBhdGggZD0iTTQzMS43LDEyNTkuMjVjNi4xMyw4LjU0LDExLjc1LDEyLjY0LDE2Ljk4LDE2LjczLDIuMTMsMS42NiwxMC44MSw4LjEyLDEyLjgsOSwwLDAsLjE2LjA2LS45NywxLjQ3LS45NywxLjM1LTEuMzYsMS4wNi0uOTcsMS4zNWwtMjAuOC0xNC45OWMtMS42MS0xLjM3LTEyLjI3LTE1LjMtMTIuMjctMTcuMTdoMy4xM2MuNjcsMS4yNywxLjM4LDIuNTEsMi4xLDMuNjFoLS4wMVoiLz4KICA8L2c+CiAgPGcgaWQ9IlJpZ2h0X21ldGF0YXJzYWxfYXJ0ZXJpZXMiPgogICAgPGc+CiAgICAgIDxwYXRoIGQ9Ik0yNzkuMzYsMTM4MS44OGMuMDQsMS0uMTIsMi4wNS4wNSwzLjA1LDIuNjcsMTUuNTYsNi40NCwzMC43Nyw4LjY0LDQ2LjIyLjI5LDIuMDIsMS45Niw0LjA4LS4zMSw1LjUyLTIuNzItLjk1LTEuNzUtMy42OS0yLjE2LTUuNDUtMy4xMS0xMy4zLTUuNTctMjcuOTQtOS40OC00MC42Mi0uNTctMS44NS42LTQuMzgtMS02LjE5bC4xNS0uNjMsNC4xMS0xLjloMFoiLz4KICAgICAgPHBhdGggZD0iTTI1NS44NCwxNDM5LjA2bC0zLjM5LTQ1LjUyLjMxLS43NSwzLjA4LS45Yy0uNTYsNS41NC42NiwxMC45OC45NiwxNi40NC40LDcuMjguMDcsMTQuNjcuNDcsMjEuOTMuMTUsMi43NiwyLjksOC43Ni0xLjQyLDguNzloMFoiLz4KICAgICAgPHBhdGggZD0iTTIwMy41MiwxMzg5Ljk4YzEuNjEuNzgsMy43NS42NywzLjM2LDMuMDYtLjEyLjcxLS44MywxLjI0LS45NCwxLjk2LTEuNSw5LjUzLTMuNiwxOS4zNS01LjYzLDI4LjcyLS4yNSwxLjE0LS40NSw1LjY5LTIuMyw1LjMzLTEuOTgtLjM5LjQ2LTguMzcuNjYtOS44MSwxLjAxLTcuMSwyLjE4LTEzLjk0LDMuMzYtMjAuOTcuNDctMi43OC44My01LjU1LDEuNDktOC4yOWgwWiIvPgogICAgICA8cGF0aCBkPSJNMjMwLjg4LDEzOTMuMzJjLjQ4LDIuNjEtLjY2LDUuMDItLjkxLDcuNDQtMS4xOCwxMS41Mi0xLjY3LDIzLjAxLTIuOTcsMzQuNDZsLTEuODguMDQsMS45Mi00MS45NGgzLjg0WiIvPgogICAgICA8cGF0aCBkPSJNMTg2LjcyLDEzODEuODljLTEuNzgsNS45Ny0zLDEyLjEtNC41MywxOC4xNC0xLjI1LDQuOTYtMi42NiwxMC4xMi0zLjc0LDE0Ljg3LS4yNywxLjE4LS44NSwyLjczLTIuMjksMi4yNWw3LjItMzYuMjIsMy4zNi45NloiLz4KICAgIDwvZz4KICA8L2c+CiAgPGcgaWQ9IlJpZ2h0X3BsYW50YXJfYXJjaCI+CiAgICA8cGF0aCBkPSJNMjUyLjE4LDEyOTEuNDdjMi45NSwyLjc5LDYuMjcsNy40NCw4LjYxLDEwLjgxLDExLjg3LDE3LjEyLDI3LjExLDQ1LjU3LDIyLjI4LDY2LjkyLTEuMSw0Ljg3LTYuMzksNy42OS0zLjk0LDEzLjI5bC00LjA5LDEuODl2LTEuOTFjLS40MS0uNDItNC45OSwyLTUuODYsMi40NC0yLjM3LDEuMTktNC42MywyLjU3LTcuNTEsMy42Mi0xLjM0LjQ5LTMuODUuNjItNS4wMSwxLjIyLTEuMjQuNjQtMSwyLjA0LTMuNTQsMi4yNy0xLjU0LjE0LS43OC0uODQtMS44MS0uOTgtMi4zOC0uMzItMTcuNjktLjI5LTE5LjUxLjI3LS4zNy4xMi0uODUuMTItLjk1LjU3bC0uMDUsNC44Ny0zLjc3LjU1di02LjIybC0xOS4zNy0yLjQzLS45Miw0LjkzYy0xLjE0Ljc2LS4yNCwzLjIzLTEuNTUsMy4yNS01LjgyLjEzLS4wOS02LjI1LTEuODgtOS42MS0yLjI2LS42Ni00LjQ4LTEuNS02LjYtMi41MS0xLjQtLjY2LTkuNDUtNS42Ny05Ljk5LTUuMTEuMDYsNC4wNy0xLjgsNy45NC0yLjQxLDExLjk1bC0xLjk1LS4yMWMtMS43LTIuNTYuNDItNC44MS44OS02LjgyLjQzLTEuODcsMS4zMi02LjMyLDEuMDgtOC4wNS0uMjItMS42Mi0xLjYyLTMuMzItMi4yMi00Ljk2LTcuNzctMjEuNDUsMTkuMjgtNTAuNjgsMzUuNi02My44LDEuNjgtMS44NSwzLjg4LTMuMjksNS43NS00Ljc5LDUuMS00LjA5LDEyLjUzLTEwLjk1LDE4LjE0LTEzLjk3LDIuMDEtMS4wOCwzLjgzLTIuNTksNS45Ny0xLjg4LDIuMDEuNjYsMy41LDMuMzYsNC42LDQuNGguMDFaTTI0OS45LDEyOTQuMjFjLS43My0uOTEtMy4yMi0zLjcxLTQuMjctMy40NS00LjA1LDIuNzItOC4yNSw1LjM2LTEyLjE1LDguMjUtMTUuMjgsMTEuMzUtNDIuOTksMzYuMDEtNDcuNTksNTQuNjctNS4wMSwyMC4zNiw2Ljc3LDI4Ljg0LDI0LjkzLDMyLjI1LDE1LjQ4LDIuOTEsMzQuNTMsNS4wMiw0OS40LS4yNywxNi42Ny01Ljk0LDIwLjg5LTEzLjI1LDE5LjYtMzEuMTZzLTE4LjYtNDYuMTctMjkuOTMtNjAuM2gwWiIvPgogIDwvZz4KICA8ZyBpZD0iUmlnaHRfbGF0ZXJhbF9wbGFudGFyX2FydGVyeSI+CiAgICA8cGF0aCBkPSJNMjg3LjA0LDEyNTQuNzFjLS4wMi42Ny0uMDgsMS4zNi4xMywyLjAyLDkuMDUsMjguMSwxNC4zMyw1Ny4xMiwxOS4xMSw4NS44LDUuMywzMS43Nyw5Ljg5LDYwLjQzLDQuMjgsOTIuOTMtLjEuNTUtLjA0LDEuNDUtLjczLDEuNjctMy4zMywxLjA1LS44MS03LjktLjcyLTkuMzQuOTEtMTUuNDIuOTItMzMuNTQtLjk4LTQ4LjgtLjgzLTYuNzEtMi40OS0xMy4zLTMuMzMtMjAuMTQtMy41Mi0yOC42Ny0xMC43OC02Mi42Ni0xOC45OC05MC43MS0uNDMtMS40Ny0xLjU0LTcuOTEtMi45MS04LjE0bC0uMzUtNS4yOWg0LjQ4czAsMCwwLDBaIi8+CiAgPC9nPgogIDxnIGlkPSJSaWdodF9tZWRpYWxfcGxhbnRhcl9hcnRlcnkiPgogICAgPHBhdGggZD0iTTI4My4xLDEyNjAuMjNjLS4xNC4yNC0xLjYxLjY3LTIuMTQsMS4yLTguMSwxMC4xOS0zMi40MSwyNi4xNC0zMi40MSwyNi4xNGwtMy4xMy0uNTRjNC42OS0zLjYyLDE2LjM4LTEyLjA2LDIwLjgxLTE1Ljk4LDMuMDQtMi42OSw5LjEyLTguNjksMTEuMTgtMTIuMDkuNzUtMS4yNCwxLjYxLTMuMzcsMS45NS00LjgybDMuMi41Ny41NCw1LjUyWiIvPgogIDwvZz4KICA8ZyBpZD0iUmlnaHRfZG9yc2FsX3BlZGFsX2FydGVyeSI+CiAgICA8cGF0aCBkPSJNMjA5LjA5LDEyMTQuNjFjLjIxLjA3LDUuOTgsMTIuMzQsNi4xNSwxMi43NSw3LjcxLDE3LjU5LDE2LjAxLDMyLjY3LDI2LjY4LDQ5LjI2LjczLDEuMTQsNi41Miw2LjY4LDUuOTUsOC42N2wtMy41NCwyLjUxYy0zLjkyLTUuNjUtMTEuMzEtMTguMDgtMTQuOTMtMjMuOTEtNi4zNC0xMC4xOS0xMy4zNS0yMi4wOS0xOC42NC0zMy4xNS0uNDUtLjk0LTIuMzYtNC45Ny0yLjQ3LTUuNTYtLjE4LTEtNi4yMS0xMi45OS01LjczLTEzLjE3Ljc5LS4zLDAsMCw1Ljc1LS4wMWwuNzcsMi42MVoiLz4KICA8L2c+CiAgPGcgaWQ9IkxlZnRfcG9zdGVyaW9yX3RpYmlhbF9hcnRlcnkiPgogICAgPHBhdGggZD0iTTQyMi40LDEyNTUuNjRjLS4xOS4xNiwxOS44NS00NC43NSwxOS44NS00NC43NSwxLjU1LTMuMzksMS4yOS0yLjU1LDEuNTUtMy4zOSwxLjM2LTQuNDIsMi4zNi05LjI2LDMuNTgtMTMuNjgsMTMuNzItNDkuNjEsMjEuMjgtOTkuNywyNy4yNC0xNTAuNjQsNC45OC00Mi40OSw5LjYtODUuMjcsMTUuNzktMTI3LjU2LDIuOTItMTkuOTgsNS4zMS00MC4yNSwxNC4yOC01OC4xMy44My0xLjY1LDEuNzMtMy4yMSwyLjgyLTQuODVoNy43MWMtNCw4LjQtOS4yMywyNS4zNC0xMS43NSwzNC4zMS03LjE1LDI1LjQxLTkuNjEsNTMtMTIuOTUsNzkuMTEtOS42LDc1LjAzLTE2LjQ5LDE1MC43OS0zNi4xNiwyMjMuNy0xLjksNy4wNC0yMy4yLDU4Ljc2LTI0Ljc1LDY1Ljg4aC03LjIxWiIvPgogIDwvZz4KICA8ZyBpZD0iUmlnaHRfcG9zdGVyaW9yX3RpYmlhbF9hcnRlcnkiPgogICAgPHBhdGggZD0iTTI3OS42MiwxMjU0LjcxYy0uNDMtMi4xNC0xOS41OS00OC43NS0yMC4yMy01MC44Mi0yMy42OS03Ni40OS0zMC41Ni0xNTguNDItNDAuNzItMjM3Ljg2LTQuMTItMzIuMjItNy4wMS02Ni44Mi0xOS4wNS05Ny40Ny0xLjE4LTMuMDEtNS40OC0xNC4wOC00Ljg0LTE3LjUzLDAsMCw1LjQxLS4xLDYuODUsMCwuODUsMS44OCwxLjk1LDQuNjMsMi44Nyw2LjQyLDguOSwxNy4zNSwxMS40MiwzOC42MSwxNC4yOCw1OC4xMyw2LjE5LDQyLjMsMTAuODEsODUuMDksMTUuNzksMTI3LjU4LDUuOTYsNTAuOTEsMTMuNTEsMTAxLjA4LDI3LjI0LDE1MC42NSwxLjIyLDQuNDEsMjMuODUsNTYuNDksMjUuMjIsNjAuOS4zMS45OSwwLDAsMCwwaC03LjQyWiIvPgogIDwvZz4KICA8ZyBpZD0iTGVmdF9wZXJvbmVhbF9hcnRlcnkiPgogICAgPHBhdGggZD0iTTQ5My44MiwxMTcwLjZjMS4xMSwxLjg2LDQuMiwzLjEyLDMuMiw1LjQxLTQuODUtMS43My0zLjI3LTQuMzQtOS4zMi0zLjMxLS45Ni4xNi01LjAzLDIuNDUtNS4wOC0uMDQsMS4yNC40MSwxLjMxLS43MSwxLjgtLjk0LjU2LS4yNiwxLjQ2LS40OSwyLjQzLS45MiwyLjEzLS45NiwyLjk5LS4xMywzLjQtMy4yMiwxLjgyLTEzLjg3LDQuNjUtMjcuNTIsNi43NS00MS4yLDguMzYtNTQuNDMsMTcuMzQtMTA5LjQ0LDI0Ljk0LTE2NC40MywxLjUzLTExLjA4LDIuMi0yMi4zNywzLjkxLTMzLjQ4LDEuMTctNy41NywzLjU3LTE5LjE4LDIuMzUtMjYuODQtLjQ1LTIuODItMS43OS03LjA0LTIuMzUtMTAuMTItMS40Mi03Ljc4LTMuMzMtMTQuMDktNi4yNi0yMS41NS0uNzEtMS44Mi00LjMyLTE2LjE2LTQuMzctMTcuMzJoNi44NWMuMDguNDguNTgsMi44Ny44MiwzLjI4LDMuMjQsOC44MSw4LjA0LDE4LjgsMTAuMDIsMjguMDUsNS40LDI1LjItLjgzLDUxLjc3LTQuNjcsNzYuNjEtNy4yNCw0Ni45LTE0Ljc1LDkzLjMzLTIyLjY0LDE0MC4zNi0zLjY1LDIxLjc0LTcuODgsNDMuODEtMTEuMDEsNjUuNy0uMTgsMS4yNi0xLjU0LDIuNTMtLjc4LDMuOTZoLjAxWiIvPgogIDwvZz4KICA8ZyBpZD0iUmlnaHRfcGVyb25lYWxfYXJ0ZXJ5Ij4KICAgIDxwYXRoIGQ9Ik0yMjAuNjUsMTE2OS42MmMxLjc1LjgsMy40NywyLjEzLDUuMjUsMi4wOWwxLjgsMS44OWMtMi45Ni41Mi01LjM5LTEuMzktOC4zNC0xLjI2LTIuMTUuMDktMy4zOSwzLjQyLTUuOCwzLjY3LS42OC0uNTEtLjU5LTEuMzgtLjI2LTIuMDUuMTgtLjM3LDMuMjQtMywzLjM2LTMuNTguMzQtMS42My0uNzQtMi40Ni0uOTMtMy43NS01LjUyLTM3LjE0LTEyLjYyLTczLjk1LTE4LjM3LTExMS4wNy00Ljg5LTMxLjU5LTEwLjE0LTYzLjMtMTUuMjctOTQuOTktNS44Ni0zNi4xMy0xMi4yNy02NC43LDIuODEtMTAwLjI5LjUyLTEuMjMsNC04LjUyLDQuNjUtOC43OGg2LjIyYy0xLjIzLDMuMjgtMy43NSwxNS4xOS01LjAyLDE4LjQ1LTQuOTEsMTIuNTMtOS44OCwzMC41MS04LjYzLDQ0LjEuMTgsMS45OCwxLjE5LDMuNzYsMS40LDUuMzEuMjksMi4xMi0uMjgsNC42NywwLDYuNzEsNi4yNSw0NC4zNSwxMi40MSw4OC44NywxOS4yNiwxMzMuMTksMi44MywxOC4yOSw2LjczLDM2Ljk4LDkuMDYsNTUuMTksMS45NSwxNS4yNyw0Ljc1LDMwLjk5LDcuMjgsNDYuNDIuNDgsMi45MSwxLjAzLDUuODcsMS41NCw4Ljc3di0uMDJaIi8+CiAgPC9nPgogIDxnIGlkPSJSaWdodF9hbnRlcmlvcl90aWJpdGFsX2FydGVyeSI+CiAgICA8cGF0aCBkPSJNMjAyLjU2LDEyMTJjLTEuMzQtMy44Ni0zLjMtNy40Ni00LjgyLTExLjI0LTQuNzEtMTEuNy04LjQtMjMuMDMtMTIuMS0zNC45LTguMTYtMjYuMTgtMTMuOTgtNTAuNDMtMTkuMDUtNzUuNDItNi4zMy0zMS4yLTEyLjgtNjEuNzEtMTkuMTQtOTMuMDctMi4zOS0xMS44My00LjczLTIzLjk3LTYuNzUtMzUuOTItMy4xMy0xOC41LTUuMDMtMzYuNzgtNi4zLTU1LjU2LTEuMjQtMTguMzItMi4xMS0zNS40NywyLjUzLTUyLjYyLDEuMjktNC43NSw3LjA3LTEzLjM1LDEwLjgxLTE2LjY0LDUuMTUtNC41MSwxMS40My03LjU5LDE3LjQ1LTEwLjc0bDE5LjQxLTcuODVjMS4wOS4yLDIuMzcsOC40MywxLjE5LDkuMjMtMTAuODUsMy4xOC0yMy4wNyw3LjU0LTMxLjU5LDE1LjA4LTYuMzIsNS41OS03LjkzLDguNzYtMTAuMjMsMTYuOTktNS44MywyMC44NS0zLjI2LDQ2LjE0LS45Myw2Ny42MywxLjcyLDE1LjksNC41NSwzMS4zOSw3LjMzLDQ2Ljg1LDUuMDgsMjguMjcsMTAuODEsNTYuODYsMTYuMyw4NC40LDcuNzgsMzguOTUsMTUuNTQsNzguNTksMjcuMzksMTE1Ljk5LDMuMDIsOS41NSw3LjU2LDIwLjQyLDEzLjE0LDM1Ljc3LjI3Ljc0LjY1LDEuMzksMS4xMSwyLjAxaC01Ljc2LDBaIi8+CiAgPC9nPgogIDxnIGlkPSJMZWZ0X2FudGVyaW9yX3RpYmlhbF9hcnRlcnkiPgogICAgPHBhdGggZD0iTTUwNC42OCwxMjEzLjE3YzEuNDgtMy45NCwxLjAxLTIuNzcsMS40OC0zLjk0LDkuMDgtMjIuMzIsMTYuNC00My43NCwyMi4yOS02Nyw0LjE0LTE2LjMzLDcuMzMtMzIuNjksMTAuODEtNDkuMTMsNC4yOS0yMC4yOCw4LjIyLTQwLjA2LDEyLTU5LjkzLDMuNjctMTkuMjcsNy44Ny0zOC43LDExLjM3LTU4LjE2LDIuNzgtMTUuNDYsNS42MS0zMC45NSw3LjMzLTQ2Ljg1LDIuMzMtMjEuNSw0LjktNDYuNzktLjkzLTY3LjYzLTQuMjEtMTUuMDQtMTIuOTctMjEuMDMtMjcuMTQtMjcuMDYtNS4yMi0yLjIyLTEwLjc0LTMuNy0xNS45OC01Ljg1LS41LTMuMzUuMDYtNi40MiwxLjM0LTkuNDlsNC4wMiwyLjQ3YzEzLjM1LDUuMjksMzEuMSwxMS4xMiwzOS40OSwyMy4zNCw0LjE1LDYuMDUsNS4wNywxMS4xMyw2LjUsMTcuNDkuNzUsMy4zMy45MSw0LjA5LDEuMzUsNy43NiwyLjg3LDI0LjEtLjQxLDQ4LjgxLTMuMzEsNzIuNDUtMi4zNSwxOS4xMy01Ljk0LDM4LjE2LTkuNzMsNTYuOTItNi4zNCwzMS4zNS0xMi44MSw2MS44Ny0xOS4xNCw5My4wNy01LjIyLDI1LjY5LTExLjI2LDUwLjQ0LTE5LjA1LDc1LjQyLTMuNywxMS44Ny03LjM5LDIzLjE5LTEyLjEsMzQuOS0xLjUyLDMuNzgtMy40OCw3LjM5LTQuODIsMTEuMjRoLTUuNzZsLS4wMi0uMDJaIi8+CiAgPC9nPgogIDxnIGlkPSJSaWdodF90aWJpb3Blcm9uZWFsX3RydW5rIj4KICAgIDxwb2x5Z29uIHBvaW50cz0iMTk1LjcxIDgxOC41NiAyMDEuNjQgODUxLjU3IDE4OS4yOSA4NTEuNTcgMTgzLjM2IDgxOC41NiAxOTUuNzEgODE4LjU2Ii8+CiAgPC9nPgogIDxnIGlkPSJMZWZ0X3RpYmlvcGVyb25lYWxfdHJ1bmsiPgogICAgPHBhdGggZD0iTTUxNC45Nyw4MjQuNjNsMTEuMTYtLjA0LS4xNiw0Ljk3Yy0zLjkyLS4yOS41LTIuMDgsMCwwLTEuNTUsNi41NC0yLjM3LDcuNzItMy42MSwxNC4xNy0uMzUsMS44My0xLjQzLDcuNTgtLjMsOS4wNy4wNC4wNSwwLC4xMy0uMDYuMTNoLTE0LjcxcTEuNDUtMi4wNCwxLjgtMy4xOGMyLjIzLTcuMzEsMy40Ny0xNS40MSw0Ljk0LTIyLjk4LjE1LS43OC44NS0xLjM0LjkzLTIuMTVoMFoiLz4KICA8L2c+CiAgPGcgaWQ9IkxlZnRfcG9wbGl0ZWFsX2FydGVyeV9hcnRlcnkiPgogICAgPHBhdGggZD0iTTUxNS4xMSw4MjQuNTljLjA1LTEuNjguMjktMy40MS42MS01LjA1LDIuNjgtMTQuMDUsNi44OC0yNy45OSw4Ljk2LTQxLjYyLDUuNDEtMzUuNTUsOC44NC02OS43LDUuNzctMTA2LjEtMi4wMy0yNC4xLTYuMzctNDcuODItOS4wOC03MS42MS0uNDEtMy41Ni0xLjAyLTYuNjItMS40My05Ljg4LS4zMS0yLjQ2LjI3LTUuMDktLjUyLTcuNmgxMy45Yy4wOCwxLjItLjE3LDIuNTEuMDMsMy42OCwxLjkzLDExLjc2LDMuMzYsMjIuNzIsNC43NiwzNC41OCwxLjg1LDE1LjY2LDMuMzMsMzEuNTMsNC44LDQ3LjM3LDMuMywzNS41NiwxLjI0LDY2LjYxLTQuNzUsMTAxLjI1LTIuOTgsMTcuMjItNy4wOSwzMi4xOC0xMC45Nyw0OC40My0uNDUsMS44Ny0uNzUsNC41OS0xLjA2LDYuNTZoLTExLjAydi0uMDJaIi8+CiAgPC9nPgogIDxnIGlkPSJSaWdodF9wb3BsaXRlYWxfYXJ0ZXJ5X2FydGVyeSI+CiAgICA8cGF0aCBkPSJNMTkwLjQ4LDU5MS44NGMtLjM4Ljk5LS44LDIuMTQtLjkxLDMuMTktMS4zOCwxMy42LTMuMTksMjctNC45LDQwLjQxLTIuMjksMTcuOTItNC4xOCwzNS42Ni01LjIxLDUzLjU3LTEuNjEsMjcuOTIsMi40OSw1Ny4yNyw2LjczLDg0LjQxLDIuMDgsMTMuMzMsNi4zNSwyNi45NCw4Ljk3LDQwLjY4LjI4LDEuNDYuNDcsMi45OC42MSw0LjQ1aC0xMS4wNGMtLjUtMS44LS42NC00LjI1LTEuMDYtNS45My01LjM5LTIxLjUyLTEyLjAxLTQ0LjA5LTE0LjMtNjYuNjctMS43Ny0xNy40OS0zLjg3LTM1LjI2LTMuMzgtNTMuMDhzMi43Mi0zMy44MSw0LjM0LTUwLjY0YzEuMzItMTMuNzcsMi45OS0yOC4xNCw0LjgxLTQxLjQ4LjQxLTIuOTcuNzItNi4wMiwxLjQ0LTguOTJoMTMuOTItLjAyWiIvPgogIDwvZz4KICA8ZyBpZD0iTGVmdF9zdXBlcmZpY2lhbF9mZW1vcmFsX2FydGVyeSI+CiAgICA8cGF0aCBkPSJNNTQ1Ljg0LDI5Mi44Yy40MiwyLjA1LTEuMDksMy45Ni0xLjQxLDUuNy01LjQ4LDI5Ljk2LTguMjEsNjAuMTktMTQuNDYsOTAuMjUtNi45OSwzMy42NC03LjcyLDY1LjY0LTUuNzUsMTAwLjMzLDEuNTksMjgsNC41Nyw1NS45MSw4LjE1LDgzLjUxLjQ0LDMuMzYuNzksNi44Ljk5LDEwLjE5aC0xMy45MmMtLjA3LTEuNDEuMTUtMi44Ni0uMDUtNC4yNi0yLjczLTE5LjE2LTUuODQtMzguMTUtOC4wNy01Ny4yNi00LjY0LTM5LjctNi4yNy04MC4xOS0uNjMtMTE5Ljg4LDMuOS0yNy40OCwxMC4yNS01NC4zMSwxMy41Ni04MS41Ny44OS03LjMyLDIuMzgtMTQuNjQsMy4zMy0yMS44MS4yMi0xLjY3LS4wOS0zLjUuMDMtNS4yaDE4LjI0LS4wMVoiLz4KICA8L2c+CiAgPGcgaWQ9IlJpZ2h0X3N1cGVyZmljaWFsX2ZlbW9yYWxfYXJ0ZXJ5Ij4KICAgIDxwYXRoIGQ9Ik0xODEuMzYsMjg5LjIzYy4xMywyLjExLS4yLDQuMzguMDMsNi40Ny44MSw3LjYsMi40NCwxNS40MSwzLjMzLDIzLjE2LDMuMzEsMjguOTQsOS42Niw1Ny40MiwxMy41Niw4Ni41OSw1LjY0LDQyLjEzLDQsODUuMTEtLjYzLDEyNy4yNS0yLjM5LDIxLjczLTUuMTYsNDMuNzUtOC4xNSw2NS41My0uMTYsMS4xNy0xLjI1LDIuMjYtLjkzLDMuNjRoLTEzLjQ0Yy4zMi00Ljg5Ljg3LTkuODEsMS40Ny0xNC42NywzLjYxLTI5LjI3LDYuNTctNTguOTMsOC4xNS04OC42NSwxLjk3LTM2LjgzLDEuMjQtNzAuNzktNS43NS0xMDYuNTItNi4yNS0zMS45Mi04LjkyLTY0LjAyLTE0LjQ2LTk1LjgxLS4zMi0xLjg2LTEuODMtMy44OC0xLjQxLTYuMDVsLTIuNC40OHYtMS40NWgyMC42NCwwWiIvPgogIDwvZz4KICA8ZyBpZD0iUmlnaHRfcHJvZnVuZGFfZmVtb3JhbF9hcnRlcnkiPgogICAgPHBhdGggZD0iTTE2Ni42LDI3MC4yM3YyNS4wN2wtLjQ4LTIuMzctMTguMzYsNC4yNmMtMS4xOS0uMjEtNC41LTkuMy00LjcxLTExLjA0LDEuNTQtLjgxLDMuMDQtMS45MSw0LjU3LTIuNzEsNS40NS0yLjg2LDEzLjAyLTQuNzUsMTYuNDYtMTAuNDguNC0uNjYsMC0xLjcxLjExLTIuNDZsMi40MS0uMjdoMFoiLz4KICA8L2c+CiAgPGcgaWQ9IkxlZnRfcHJvZnVuZGFfZmVtb3JhbF9hcnRlcnkiPgogICAgPHBhdGggZD0iTTU0Mi44OSwyNjYuMThjLjY1LDEuMDYuODcsNC4zOSwxLjE3LDQuOTEsMy41MSw1LjkzLDEyLjIxLDguMTksMTcuOTQsMTEuMTMsMS42Ny44NiwzLjMsMi4wMiw0Ljk3LDIuODgtLjIzLDEuODUtMy44NCwxMS41LTUuMTMsMTEuNzJsLTIwLTQuNTJjLjQ1Ljk2LS40NywyLjA2LS41MywyLjUydi0yOC42M2gxLjU4WiIvPgogIDwvZz4KICA8ZyBpZD0iTGVmdF9jb21tb25fZmVtb3JhbF9hcnRlcnkiPgogICAgPHBhdGggZD0iTTU0NS43NiwyMDkuNzZjLS4zOCwxNy4wOC40OSwzNC4yNi4wMiw1MS4zNC0uMTgsNi41NS0xLjc5LDEzLjg2LTEsMjAuNzcuMTcsMS41MSwxLjExLDUuNzMsMi4xMiw2LjI5bDIuNzEsNC42NWgtMjIuMDhsLjQ4LTgzLjA0aDE3Ljc2LS4wMVoiLz4KICA8L2c+CiAgPGcgaWQ9IlJpZ2h0X2NvbW1vbl9mZW1vcmFsX2FydGVyeSI+CiAgICA8cGF0aCBkPSJNMTgwLjk2LDIwNy4yNGwuNDgsODIuNTJoLTIwLjY0Yy4yMi0uNzYsMi4zNS0zLjI0LDIuNC0zLjQ1LDIuMTktOS41MS4yMy0xNy4xNC0uMDItMjYuMzUtLjQ4LTE3LjUzLjQtMzUuMTkuMDItNTIuNzRoMTcuNzZaIi8+CiAgPC9nPgogIDxnIGlkPSJMZWZ0X2V4dGVybmFsX2lsaWFjX2FydGVyeSI+CiAgICA8cGF0aCBkPSJNNDY5LjQ1LDEyMC40NWMyMi4wMSw2LjA4LDQzLjY3LDE3LjI0LDU4LjE5LDM1Ljc4LDEyLjE0LDE1LjUsMTYuODMsMzMuODIsMTguMTIsNTMuNDQuMDksMS40My0uMDQsMi44NywwLDQuM2gtMTguMWMtLjAzLS44OS4xMS0xLjg0LS4wNS0yLjczLTIuMTItMTEuNTktMy4wOC0yMS4yOC03LjY3LTMyLTYuMzMtMTQuNzctMTcuNTYtMjYuNC0zMS43MS0zMy40Ni01LjgzLTIuOTEtMTIuMzEtNS43Ny0xOC43Ny02LjY0di0xOC43aDBaIi8+CiAgPC9nPgogIDxnIGlkPSJMZWZ0X2ludGVybmFsX2lsaWFjX2FydGVyeSI+CiAgICA8cGF0aCBkPSJNNDY5LjQ0LDEzMy4yMXY1LjQ3Yy0zLjM4LDEuMjgtNy4xNiw4LjEyLTEwLjU0LDguNDZzLTExLjEtMy4yNC0xNS4yLTIuNmMtMy42NC0xLjMyLTQuOTktLjc2LTEuNTEtMy44NS41NC0uNDgsMS40NS0uNjUsMS45OS0xLjE4LDEuNTQtMS41MiwzLjgzLTQuMTIsMy43OS02LjI3bDIxLjQ4LS4wM2gtLjAxWiIvPgogIDwvZz4KICA8ZyBpZD0iTGVmdF9jb21tb25faWxpYWNfYXJ0ZXJ5Ij4KICAgIDxwYXRoIGQ9Ik0zNDguMyw4MS41OWwzMy45LjFjOS4wMyw4LjcyLDE4LjM5LDEzLjYsMjkuNzcsMTguMzIsMjcuMTQsMTEuMjksNTYuMzIsMTcuNjcsODIuODUsMjkuN2w2Ljg0LDMuNWgtNTQuMDJsLTQ1Ljg0LTE3LjQzYy05LjEyLTcuMjItMTkuMTctMTIuOTQtMjguODgtMTkuMjMtMy45NC0yLjU1LTE4LjU5LTEzLjYzLTIxLjYtMTQuMzYtLjk4LS4yNC0yLjAzLS4wOC0zLjAyLS4xdi0uNWgtLjAxWiIvPgogIDwvZz4KICA8ZyBpZD0iUmlnaHRfZXh0cm5hbF9pbGlhY19hcnRlcnkiPgogICAgPHBhdGggZD0iTTIzOC41NiwxMzguMTFjLTIxLjg4LDUuMi00MC44LDE3LjY2LTUwLjAyLDM4LjM2LS41OSwxLjMyLTEuNTQsMi42LTEuNzIsMy4wNC0yLjQ1LDUuOTQtMy40MywxNC4yOC00LjQzLDIwLjQ1LS40MywyLjY0LTEuMTEsNS4yMy0xLjQzLDcuODloLTE3Ljc2Yy0uMi0yLjk5LjY3LTUuOTEuOTYtOC44NC4zNy0zLjg0LjItNi40NSwxLjA4LTEwLjM5LDcuMzgtMzIuODMsMzAtNTMuMDUsNjAuODYtNjQuMSw0LjExLTEuNDcsOC40Ny0yLjMxLDEyLjQ3LTQuMDd2MTcuNjdoLS4wMVoiLz4KICA8L2c+CiAgPGcgaWQ9IlJpZ2h0X2ludGVybmFsX2lsaWFjX2FydGVyeSI+CiAgICA8cGF0aCBkPSJNMjM4LjU4LDEzMi4yMWwyMC40Ny4xYy43NSwyLjM1LDcuNjIsNy40OCw3LjgzLDguODVzLTIuODkuOTItMy42LDEuOWMtMS4xNi4zNS0yLjQ1LS4wNi0zLjU3LjE3LTIuNDkuNTEtMTAuNSwzLjA0LTEyLjI4LDIuODUtMy42Ni0uNDMtNS40OS02LjQzLTguODUtNy41MXYtNi4zNWguMDFaIi8+CiAgPC9nPgogIDxnIGlkPSJSaWdodF9jb21tb25faWxpYWNfYXJ0ZXJ5Ij4KICAgIDxwYXRoIGQ9Ik0zMzUuOTgsNzAuMjloMTguNDl2MTAuNjFsLTMuMTYsMS4wMWMtOC42OSw5LjQ3LTE3LjQsMTkuNzQtMjcuOSwyNy4wOS0xOC4wMSwxMi41OS0zOC41OCwxNi42My01OS4wMywyMi45NS0uMjYuMDgtMS41MywxLjQ3LTMuMDUsMS40N2gtNTUuMjFsNi45LTMuNThjMzEuMzUtMTQuMiw2NS45My0yMS4zNyw5Ny4yNy0zNi4zOCw3Ljk2LTMuODEsMTMuOTctNy4zLDE5Ljg2LTE0LjM0LDIuMS0yLjUsNC42Mi01LjgxLDUuODUtOC44MmgtLjAxWiIvPgogIDwvZz4KICA8ZyBpZD0iQW9ydGEiPgogICAgCiAgICAgIDxwYXRoIGQ9Ik0zMzcuODgsMS4wMmwzMi45NC4wNC0uMDksNjAuNjNjMi4xMSw3Ljg2LDcuMDEsMTQuMzQsMTIuMzEsMjAuMzFsLTU0LjcyLS4xM2M0LjAyLTUuMjgsOC4yOC0xMC44Nyw5LjQyLTE3LjZsLjEzLTYzLjI1WiIvPgoKICA8L2c+Cjwvc3ZnPg==",onClick:t=>{console.log("Open vessel modal",e),y(t.currentTarget.getBoundingClientRect()),c(!0)}})),(0,o.createElement)("div",{className:"device-column"},Y.map(((t,n)=>(0,o.createElement)("div",{key:`n${n}`,className:"device-wrapper"},(0,o.createElement)(R,{label:k("needle",t)||(0,i.__)("Needle","endoplanner"),img:"https://endoplanner.thesisapps.com/wp-content/uploads/2024/07/needle.png",onClick:t=>{console.log("Open needle modal",e,n),v(n),h(t.currentTarget.getBoundingClientRect()),L(!0)}}),(0,o.createElement)("div",{className:"device-controls"},n>0&&(0,o.createElement)("button",{type:"button",className:"device-inline-btn remove-btn",onClick:()=>{return e=n,console.log("Remove needle",e),void a({...x,needles:Y.filter(((t,a)=>a!==e))});var e}},"−"),(0,o.createElement)("button",{type:"button",className:"device-inline-btn add-btn",onClick:F},"+")))))),(0,o.createElement)("div",{className:"device-column"},P.map(((t,n)=>(0,o.createElement)("div",{key:`s${n}`,className:"device-wrapper"},(0,o.createElement)(R,{label:k("sheath",t)||(0,i.__)("Sheath","endoplanner"),img:"https://endoplanner.thesisapps.com/wp-content/uploads/2023/09/sheath.jpg",onClick:t=>{console.log("Open sheath modal",e,n),f(n),E(t.currentTarget.getBoundingClientRect()),d(!0)}}),(0,o.createElement)("div",{className:"device-controls"},n>0&&(0,o.createElement)("button",{type:"button",className:"device-inline-btn remove-btn",onClick:()=>{return e=n,console.log("Remove sheath",e),void a({...x,sheaths:P.filter(((t,a)=>a!==e))});var e}},"−"),(0,o.createElement)("button",{type:"button",className:"device-inline-btn add-btn",onClick:W},"+")))))),(0,o.createElement)("div",{className:"device-column"},q.map(((t,n)=>(0,o.createElement)("div",{key:`c${n}`,className:"device-wrapper"},(0,o.createElement)(R,{label:k("catheter",t)||(0,i.__)("Catheter","endoplanner"),img:b,onClick:t=>{console.log("Open catheter modal",e,n),z(n),w(t.currentTarget.getBoundingClientRect()),g(!0)}}),(0,o.createElement)("div",{className:"device-controls"},n>0&&(0,o.createElement)("button",{type:"button",className:"device-inline-btn remove-btn",onClick:()=>{return e=n,console.log("Remove catheter",e),void a({...x,catheters:q.filter(((t,a)=>a!==e))});var e}},"−"),(0,o.createElement)("button",{type:"button",className:"device-inline-btn add-btn",onClick:B},"+"))))))),(0,o.createElement)(G,{onAdd:n,onRemove:l,showRemove:s,showAdd:!1}),(0,o.createElement)(A,{isOpen:r,anchor:N,onRequestClose:()=>{console.log("Close vessel dropdown"),c(!1),y(null)},value:x.vessel,onSave:e=>a({...x,vessel:e})}),(0,o.createElement)(_,{isOpen:u,anchor:j,onRequestClose:()=>{console.log("Close needle modal"),L(!1),h(null)},values:Y[T]||{},onSave:e=>((e,t)=>{console.log("Update needle",e,t),a({...x,needles:Z(Y,e,t)})})(T,e)}),(0,o.createElement)(Q,{isOpen:m,anchor:S,onRequestClose:()=>{console.log("Close sheath modal"),d(!1),E(null)},values:P[D]||{},onSave:e=>((e,t)=>{console.log("Update sheath",e,t),a({...x,sheaths:Z(P,e,t)})})(D,e)}),(0,o.createElement)(U,{isOpen:p,anchor:C,onRequestClose:()=>{console.log("Close catheter modal"),g(!1),w(null)},values:q[I]||{},onSave:e=>((e,t)=>{console.log("Update catheter",e,t),a({...x,catheters:Z(q,e,t)})})(I,e)})))}function B({index:e,values:t,onChange:a,onAdd:n,onRemove:l,showRemove:s}){const[r,c]=(0,o.useState)(!1),[u,L]=(0,o.useState)(!1),[M,m]=(0,o.useState)(null),[d,p]=(0,o.useState)(null),g=t||{},N=k("wire",g.wire)||(0,i.__)("Wire","endoplanner"),y=k("catheter",g.catheter)||(0,i.__)("Catheter","endoplanner");return g.device||(0,i.__)("Choose","endoplanner"),(0,o.createElement)("div",{className:"intervention-row"},(0,o.createElement)("div",{className:"row-inner"},(0,o.createElement)("div",{className:"device-row"},(0,o.createElement)(R,{label:N,img:"https://endoplanner.thesisapps.com/wp-content/uploads/2023/09/wire.jpg",onClick:t=>{console.log("Open wire modal",e),m(t.currentTarget.getBoundingClientRect()),c(!0)}}),(0,o.createElement)(R,{label:y,img:b,onClick:t=>{console.log("Open catheter modal",e),p(t.currentTarget.getBoundingClientRect()),L(!0)}}),(0,o.createElement)(v,{image:D,options:I,value:g.device,onChange:e=>a({...g,device:e}),buttonLabel:(0,i.__)("Choose","endoplanner")})),(0,o.createElement)(G,{onAdd:n,onRemove:l,showRemove:s}),(0,o.createElement)(Y,{isOpen:r,anchor:M,onRequestClose:()=>{console.log("Close wire modal"),c(!1),m(null)},values:g.wire||{},onSave:e=>a({...g,wire:e})}),(0,o.createElement)(U,{isOpen:u,anchor:d,onRequestClose:()=>{console.log("Close catheter modal"),L(!1),p(null)},values:g.catheter||{},onSave:e=>a({...g,catheter:e})})))}function V({index:e,values:t,onChange:a,onAdd:n,onRemove:l,showRemove:s}){const[r,c]=(0,o.useState)(!1),[u,L]=(0,o.useState)(!1),[M,m]=(0,o.useState)(null),[d,p]=(0,o.useState)(null),g=t||{},N=k("balloon",g.balloon)||(0,i.__)("Balloon","endoplanner"),y=k("stent",g.stent)||(0,i.__)("Stent","endoplanner");return g.device||(0,i.__)("Choose","endoplanner"),(0,o.createElement)("div",{className:"intervention-row"},(0,o.createElement)("div",{className:"row-inner"},(0,o.createElement)("div",{className:"device-row"},(0,o.createElement)(R,{label:N,img:"https://endoplanner.thesisapps.com/wp-content/uploads/2023/09/pta.jpg",onClick:t=>{console.log("Open balloon modal",e),m(t.currentTarget.getBoundingClientRect()),c(!0)}}),(0,o.createElement)(R,{label:y,img:"https://endoplanner.thesisapps.com/wp-content/uploads/2023/09/stent.jpg",onClick:t=>{console.log("Open stent modal",e),p(t.currentTarget.getBoundingClientRect()),L(!0)}}),(0,o.createElement)(v,{image:D,options:I,value:g.device,onChange:e=>a({...g,device:e}),buttonLabel:(0,i.__)("Choose","endoplanner")})),(0,o.createElement)(G,{onAdd:n,onRemove:l,showRemove:s}),(0,o.createElement)(P,{isOpen:r,anchor:M,onRequestClose:()=>{console.log("Close balloon modal"),c(!1),m(null)},values:g.balloon||{},onSave:e=>a({...g,balloon:e})}),(0,o.createElement)(F,{isOpen:u,anchor:d,onRequestClose:()=>{console.log("Close stent modal"),L(!1),p(null)},values:g.stent||{},onSave:e=>a({...g,stent:e})})))}function J({index:e,values:t,onChange:a,onAdd:n,onRemove:l,showRemove:s}){const r=t||{},c=r.method||"";return r.device||(0,i.__)("Choose","endoplanner"),(0,o.createElement)("div",{className:"intervention-row"},(0,o.createElement)("div",{className:"row-inner"},(0,o.createElement)(M,{options:[{label:"Manual pressure",value:"Manual pressure"},{label:"Closure device",value:"Closure device"}],value:c,onChange:e=>{console.log("Closure method",e),a({...r,method:e})},ariaLabel:(0,i.__)("Method","endoplanner")}),(0,o.createElement)("div",{className:"device-row"},"Closure device"===c&&(0,o.createElement)(v,{image:"https://endoplanner.thesisapps.com/wp-content/uploads/2025/07/closuredeviceicon.png",options:f,value:r.device,onChange:e=>a({...r,device:e}),buttonLabel:(0,i.__)("Choose","endoplanner")})),(0,o.createElement)(G,{onAdd:n,onRemove:l,showRemove:s})))}function X({data:e,setData:t}){const a=e=>e&&e.length?e.map((e=>({id:e.id||z(),...e}))):[{id:z()}],[n,l]=(0,o.useState)(a(e.accessRows)),[s,r]=(0,o.useState)(a(e.navRows)),[c,u]=(0,o.useState)(a(e.therapyRows)),[L,M]=(0,o.useState)(a(e.closureRows));return(0,o.useEffect)((()=>{t({...e,accessRows:n,navRows:s,therapyRows:c,closureRows:L})}),[n,s,c,L]),(0,o.createElement)("div",{className:"step4-intervention"},(0,o.createElement)("section",{className:"intervention-section"},(0,o.createElement)("div",{className:"section-heading"},(0,i.__)("Access","endoplanner")),n.map(((e,t)=>(0,o.createElement)(W,{key:e.id,index:t,values:e,onChange:t=>l((a=>a.map((a=>a.id===e.id?t:a)))),onAdd:()=>{},onRemove:()=>l((t=>t.filter((t=>t.id!==e.id)))),showRemove:n.length>1}))),(0,o.createElement)(G,{onAdd:()=>l((e=>[...e,{id:z()}])),onRemove:()=>{},showRemove:!1,label:(0,i.__)("Add another approach","endoplanner")})),(0,o.createElement)("section",{className:"intervention-section"},(0,o.createElement)("div",{className:"section-heading"},(0,i.__)("Navigation & Crossing","endoplanner")),s.map(((e,t)=>(0,o.createElement)(B,{key:e.id,index:t,values:e,onChange:t=>r((a=>a.map((a=>a.id===e.id?t:a)))),onAdd:()=>r((e=>[...e,{id:z()}])),onRemove:()=>r((t=>t.filter((t=>t.id!==e.id)))),showRemove:s.length>1})))),(0,o.createElement)("section",{className:"intervention-section"},(0,o.createElement)("div",{className:"section-heading"},(0,i.__)("Vessel preparation & therapy","endoplanner")),c.map(((e,t)=>(0,o.createElement)(V,{key:e.id,index:t,values:e,onChange:t=>u((a=>a.map((a=>a.id===e.id?t:a)))),onAdd:()=>u((e=>[...e,{id:z()}])),onRemove:()=>u((t=>t.filter((t=>t.id!==e.id)))),showRemove:c.length>1})))),(0,o.createElement)("section",{className:"intervention-section"},(0,o.createElement)("div",{className:"section-heading"},(0,i.__)("Closure","endoplanner")),L.map(((e,t)=>(0,o.createElement)(J,{key:e.id,index:t,values:e,onChange:t=>M((a=>a.map((a=>a.id===e.id?t:a)))),onAdd:()=>M((e=>[...e,{id:z()}])),onRemove:()=>M((t=>t.filter((t=>t.id!==e.id)))),showRemove:L.length>1})))))}function H({number:e,onClick:t}){return(0,o.createElement)("sup",{className:"ref-link"},(0,o.createElement)("a",{href:"#",onClick:e=>{e.preventDefault(),t?.()}},e))}function $({title:e,isOpen:t,onRequestClose:a,children:n}){const l=(0,o.useRef)(null),s=(0,o.useRef)(null);return(0,o.useEffect)((()=>(t&&(s.current=document.activeElement,setTimeout((()=>l.current?.focus()),0)),()=>{t&&s.current?.focus()})),[t]),t?(0,o.createElement)("div",{className:"inline-modal-overlay",onClick:a},(0,o.createElement)("div",{className:"inline-modal centered",onClick:e=>e.stopPropagation(),ref:l,tabIndex:"-1"},(0,o.createElement)("div",{className:"modal-header"},e),n)):null}function K({isOpen:e,onRequestClose:t,reference:a}){return e&&a?1===a.number?(0,o.createElement)($,{title:"",isOpen:e,onRequestClose:t},a.images&&a.images[0]&&(0,o.createElement)("img",{src:a.images[0],alt:"Reference figure",style:{maxWidth:"300px",display:"block",margin:"0 auto"}}),(0,o.createElement)("div",{className:"citation-text",style:{marginTop:"0.75rem"}},a.citation),(0,o.createElement)("ul",{className:"reference-links"},a.pubmed&&(0,o.createElement)("li",null,(0,o.createElement)("a",{href:a.pubmed,target:"_blank",rel:"noopener noreferrer"},"PubMed")),a.fulltext&&(0,o.createElement)("li",null,(0,o.createElement)("a",{href:a.fulltext,target:"_blank",rel:"noopener noreferrer"},"Full text"))),(0,o.createElement)("div",{className:"popup-close-row"},(0,o.createElement)("button",{type:"button",className:"circle-btn close-modal-btn",onClick:t},"×"))):(0,o.createElement)($,{title:`Reference ${a.number}`,isOpen:e,onRequestClose:t},(0,o.createElement)("ul",{className:"reference-links"},a.pubmed&&(0,o.createElement)("li",null,(0,o.createElement)("a",{href:a.pubmed,target:"_blank",rel:"noopener noreferrer"},"PubMed")),a.fulltext&&(0,o.createElement)("li",null,(0,o.createElement)("a",{href:a.fulltext,target:"_blank",rel:"noopener noreferrer"},"Full text"))),a.html&&(0,o.createElement)("div",{className:"guideline-table-wrapper",dangerouslySetInnerHTML:{__html:a.html}}),Array.isArray(a.images)&&(0,o.createElement)("div",{className:"ref-images-row"},a.images.map(((e,t)=>(0,o.createElement)("figure",{key:`i${t}`},(0,o.createElement)("img",{src:e,alt:"Reference figure",className:`ref-image ${a.imageClass||""}`}),a.captions&&a.captions[t]&&(0,o.createElement)("figcaption",null,a.captions[t]))))),(0,o.createElement)("div",{className:"citation-text"},a.citation),(0,o.createElement)("div",{className:"popup-close-row"},(0,o.createElement)("button",{type:"button",className:"circle-btn close-modal-btn",onClick:t},"×"))):null}G.propTypes={onAdd:L().func.isRequired,onRemove:L().func.isRequired,showRemove:L().bool,label:L().string,showAdd:L().bool},W.propTypes={index:L().number.isRequired,values:L().object,onChange:L().func.isRequired,onAdd:L().func.isRequired,onRemove:L().func.isRequired,showRemove:L().bool},B.propTypes={index:L().number.isRequired,values:L().object,onChange:L().func.isRequired,onAdd:L().func.isRequired,onRemove:L().func.isRequired,showRemove:L().bool},V.propTypes={index:L().number.isRequired,values:L().object,onChange:L().func.isRequired,onAdd:L().func.isRequired,onRemove:L().func.isRequired,showRemove:L().bool},J.propTypes={index:L().number.isRequired,values:L().object,onChange:L().func.isRequired,onAdd:L().func.isRequired,onRemove:L().func.isRequired,showRemove:L().bool},X.propTypes={data:L().object.isRequired,setData:L().func.isRequired},H.propTypes={number:L().number.isRequired,onClick:L().func},$.propTypes={title:L().string.isRequired,isOpen:L().bool.isRequired,onRequestClose:L().func.isRequired,children:L().node.isRequired},K.propTypes={isOpen:L().bool.isRequired,onRequestClose:L().func.isRequired,reference:L().shape({number:L().number,citation:L().string,pubmed:L().string,fulltext:L().string,html:L().string,images:L().arrayOf(L().string),captions:L().arrayOf(L().string),imageClass:L().string})};const ee=[{number:1,citation:"Mills JL Sr, et al. The Society for Vascular Surgery WIfI classification system. J Vasc Surg. 2014;59(1):220-34.e2.",pubmed:"https://pubmed.ncbi.nlm.nih.gov/24126108/",fulltext:"https://www.jvascsurg.org/article/S0741-5214(13)01515-2/fulltext#tbl4",images:["https://www.jvascsurg.org/cms/10.1016/j.jvs.2013.08.003/asset/7426eab0-cc9b-4d17-bbe6-e498f115f9f5/main.assets/fx3_lrg.jpg"],imageClass:"wifi-img"},{number:2,citation:"Conte MS, et al. Global vascular guidelines on the management of chronic limb-threatening ischemia. Eur J Vasc Endovasc Surg. 2019;58(1S):S1-S109.e33.",pubmed:"https://pubmed.ncbi.nlm.nih.gov/31182334/",fulltext:"https://www.ejves.com/article/S1078-5884(19)30380-6/fulltext",html:'<table class="guideline-table"><thead><tr><th>Grade</th><th>Femoro-popliteal</th><th>Infrapopliteal</th></tr></thead><tbody><tr><td>0</td><td>No significant disease</td><td>Single tibial vessel to foot</td></tr><tr><td>1</td><td>Short stenosis or occlusion &lt;5 cm</td><td>Moderate disease in &lt;2 tibial vessels</td></tr><tr><td>2</td><td>Lesion 5–15 cm or occlusion &lt;5 cm</td><td>Severe disease in &lt;2 tibial vessels</td></tr><tr><td>3</td><td>Long occlusion &gt;15 cm or heavy calcification</td><td>Diffuse tibial occlusive disease</td></tr><tr><td>4</td><td>Chronic occlusion &gt;20 cm with poor target</td><td>No continuous tibial runoff</td></tr></tbody></table>',images:["https://www.ejves.com/cms/10.1016/j.ejvs.2019.05.006/asset/6384e629-35d6-4ce0-8f18-c49591e7aa7a/main.assets/gr7_lrg.jpg","https://www.ejves.com/cms/10.1016/j.ejvs.2019.05.006/asset/d105245a-002c-4694-9eb9-a7ba89a7fd80/main.assets/gr8_lrg.jpg"],captions:["FP grade example","IP grade example"],imageClass:"glass-img"},{number:3,citation:"Norgren L, Hiatt WR, Dormandy JA, et al. Inter-Society Consensus for the Management of Peripheral Arterial Disease (TASC II). J Vasc Surg. 2007;45(Suppl S):S5–S67.",pubmed:"https://pubmed.ncbi.nlm.nih.gov/17223489/"},{number:4,citation:"Jaff MR, White CJ, Hiatt WR, et al. An Update on Methods for Revascularization and Expansion of the TASC Lesion Classification to Include Below-the-Knee Arteries: A Supplement to the Inter-Society Consensus for the Management of Peripheral Arterial Disease (TASC II). J Endovasc Ther. 2015;22(5):663–77.",pubmed:"https://pubmed.ncbi.nlm.nih.gov/26268268/"},{number:5,citation:"Adam DJ, Beard JD, Cleveland T, et al. Bypass versus angioplasty in severe ischaemia of the leg (BASIL): multicentre, randomised controlled trial. Lancet. 2005;366(9501):1925–34.",pubmed:"https://pubmed.ncbi.nlm.nih.gov/16325693/"}],te=e=>(0,o.createElement)($,{...e});function ae({isOpen:e,anchor:t,onRequestClose:a,values:n,onSave:l}){const[s,i]=(0,o.useState)(n.size||""),[r,c]=(0,o.useState)(n.length||"");(0,o.useEffect)((()=>{i(n.size||""),c(n.length||"")}),[n]);const u=(e,t)=>{const n={size:s,length:r,[e]:t};"size"===e?i(t):c(t),l(n),n.size&&n.length&&a()};return(0,o.createElement)(te,{title:"Needle",isOpen:e,anchor:t,onRequestClose:a},(0,o.createElement)(T.SelectControl,{label:"Needle size",value:s,options:[{label:"Choose size",value:"",disabled:!0},...["19 Gauge","21 Gauge"].map((e=>({label:e,value:e})))],onChange:e=>u("size",e)}),(0,o.createElement)(T.SelectControl,{label:"Needle length",value:r,options:[{label:"Choose length",value:"",disabled:!0},...["4cm","7cm","9cm"].map((e=>({label:e,value:e})))],onChange:e=>u("length",e)}),(0,o.createElement)("div",{className:"popup-close-row"},(0,o.createElement)("button",{type:"button",className:"circle-btn close-modal-btn",onClick:a},"×")))}function ne({isOpen:e,anchor:t,onRequestClose:a,values:n,onSave:l}){const[s,i]=(0,o.useState)(n.frSize||""),[r,c]=(0,o.useState)(n.length||"");(0,o.useEffect)((()=>{i(n.frSize||""),c(n.length||"")}),[n]);const u=(e,t)=>{const n={frSize:s,length:r,[e]:t};"frSize"===e?i(t):c(t),l(n),n.frSize&&n.length&&a()};return(0,o.createElement)(te,{title:"Sheath",isOpen:e,anchor:t,onRequestClose:a},(0,o.createElement)(T.SelectControl,{label:"French size",value:s,options:[{label:"Choose size",value:"",disabled:!0},...["4 Fr","5 Fr","6 Fr","7 Fr","8 Fr","9 Fr"].map((e=>({label:e,value:e})))],onChange:e=>u("frSize",e)}),(0,o.createElement)(T.SelectControl,{label:"Length",value:r,options:[{label:"Choose length",value:"",disabled:!0},...["10 cm","12 cm","25 cm"].map((e=>({label:e,value:e})))],onChange:e=>u("length",e)}),(0,o.createElement)("div",{className:"popup-close-row"},(0,o.createElement)("button",{type:"button",className:"circle-btn close-modal-btn",onClick:a},"×")))}function le({isOpen:e,anchor:t,onRequestClose:a,values:n,onSave:l}){const[s,i]=(0,o.useState)(""),[r,c]=(0,o.useState)(""),[u,L]=(0,o.useState)("");(0,o.useEffect)((()=>{i(n.size||""),c(n.length||""),L(n.specific||"")}),[n]);const M=(e,t)=>{const n={size:s,length:r,specific:u,[e]:t};"size"===e&&i(t),"length"===e&&c(t),"specific"===e&&L(t),l(n),n.size&&n.length&&n.specific&&a()};return(0,o.createElement)(te,{title:"Catheter",isOpen:e,anchor:t,onRequestClose:a},(0,o.createElement)(T.SelectControl,{label:"Specific catheter",value:u,options:[{label:"Choose catheter",value:"",disabled:!0},...["BER2","BHW","Cobra 1","Cobra 2","Cobra 3","Cobra Glidecath","CXI 0.018","CXI 0.014","Navicross 0.018","Navicross 0.035","MultiPurpose","PIER","Pigtail Flush","Straight Flush","Universal Flush","Rim","Simmons 1","Simmons 2","Simmons 3","Vertebral"].map((e=>({label:e,value:e})))],onChange:e=>M("specific",e)}),(0,o.createElement)(T.SelectControl,{label:"French size",value:s,options:[{label:"Choose size",value:"",disabled:!0},...["2.3 Fr","2.6 Fr","4 Fr","5 Fr","6 Fr","7 Fr"].map((e=>({label:e,value:e})))],onChange:e=>M("size",e)}),(0,o.createElement)(T.SelectControl,{label:"Length",value:r,options:[{label:"Choose length",value:"",disabled:!0},...["40 cm","65 cm","80 cm","90 cm","105 cm","110 cm","125 cm","135 cm","150 cm"].map((e=>({label:e,value:e})))],onChange:e=>M("length",e)}),(0,o.createElement)("div",{className:"popup-close-row"},(0,o.createElement)("button",{type:"button",className:"circle-btn close-modal-btn",onClick:a},"×")))}function oe({isOpen:e,anchor:t,onRequestClose:a,values:n,onSave:l}){const[s,i]=(0,o.useState)(n.platform||""),[r,c]=(0,o.useState)(n.length||""),[u,L]=(0,o.useState)(n.type||""),[m,d]=(0,o.useState)(n.body||""),[p,g]=(0,o.useState)(n.support||""),[N,y]=(0,o.useState)(n.technique||""),[j,h]=(0,o.useState)(n.product||"");(0,o.useEffect)((()=>{i(n.platform||""),c(n.length||""),L(n.type||""),d(n.body||""),g(n.support||""),y(n.technique||""),h(n.product||"")}),[n]);const S=(e,t)=>{const n={platform:s,length:r,type:u,body:m,support:p,technique:N,product:j,[e]:t};switch(e){case"platform":i(t);break;case"length":c(t);break;case"type":L(t);break;case"body":d(t);break;case"support":g(t);break;case"technique":y(t);break;case"product":h(t)}l(n),n.platform&&n.length&&n.type&&n.technique&&a()};return(0,o.createElement)(te,{title:"Wire",isOpen:e,anchor:t,onRequestClose:a},(0,o.createElement)(M,{options:["0.014","0.018","0.035"].map((e=>({label:e,value:e}))),value:s,onChange:e=>S("platform",e),ariaLabel:"Platform"}),(0,o.createElement)(T.SelectControl,{label:"Length",value:r,options:["180 cm","260 cm","300 cm"].map((e=>({label:e,value:e}))),onChange:e=>S("length",e)}),(0,o.createElement)(M,{options:[{label:"Glidewire",value:"Glidewire"},{label:"CTO wire",value:"CTO wire"},{label:"Support wire",value:"Support wire"}],value:u,onChange:e=>S("type",e),ariaLabel:"Type"}),"CTO wire"===u&&(0,o.createElement)(T.SelectControl,{label:"Body type",value:m,options:[{label:"Choose body",value:"",disabled:!0},...["Light bodied","Intermediate bodied","Heavy bodied"].map((e=>({label:e,value:e})))],onChange:e=>S("body",e)}),"Support wire"===u&&(0,o.createElement)(T.SelectControl,{label:"Support wire",value:p,options:[{label:"Choose wire",value:"",disabled:!0},...["Rosen wire","Lunderquist wire","Amplatz wire","Bentson wire","Meier wire","Newton wire"].map((e=>({label:e,value:e})))],onChange:e=>S("support",e)}),(0,o.createElement)(M,{options:[{label:"Intimal Tracking",value:"Intimal Tracking"},{label:"Limited sub-intimal dissection and re-entry",value:"Limited sub-intimal dissection and re-entry"}],value:N,onChange:e=>S("technique",e),ariaLabel:"Technique"}),(0,o.createElement)(T.SelectControl,{label:"Product",value:j,options:[{label:"Choose product",value:"",disabled:!0},{label:"None",value:"none"}],onChange:e=>S("product",e)}),(0,o.createElement)("div",{className:"popup-close-row"},(0,o.createElement)("button",{type:"button",className:"circle-btn close-modal-btn",onClick:a},"×")))}function se({isOpen:e,anchor:t,onRequestClose:a,values:n,onSave:l}){const[s,i]=(0,o.useState)(n.platform||""),[r,c]=(0,o.useState)(n.diameter||""),[u,L]=(0,o.useState)(n.length||"");(0,o.useEffect)((()=>{i(n.platform||""),c(n.diameter||""),L(n.length||"")}),[n]);const m={.014:["1.5","2","2.5","3.5","4"],.018:["2","2.5","3","4","5","5.5","6","7"],.035:["3","4","5","6","7","8","9","10","12","14"]},d=(e,t)=>{const n={platform:s,diameter:r,length:u,[e]:t};"platform"===e&&(i(t),c(t?m[t][0]:"")),"diameter"===e&&c(t),"length"===e&&L(t),l({platform:n.platform,diameter:n.diameter,length:n.length}),n.platform&&n.diameter&&n.length&&a()};return(0,o.createElement)(te,{title:"PTA Balloon",isOpen:e,anchor:t,onRequestClose:a},(0,o.createElement)(M,{options:["0.014","0.018","0.035"].map((e=>({label:e,value:e}))),value:s,onChange:e=>d("platform",e),ariaLabel:"Platform"}),(0,o.createElement)(T.SelectControl,{label:"Diameter",value:r,options:(m[s]||[]).map((e=>({label:e,value:e}))),onChange:e=>d("diameter",e)}),(0,o.createElement)(T.SelectControl,{label:"Length (mm)",value:u,options:[{label:"Choose length",value:"",disabled:!0},...["10","12","15","18","20","30","40","50","60","70","80","90","100","110","120"].map((e=>({label:e,value:e})))],onChange:e=>d("length",e)}),(0,o.createElement)("div",{className:"popup-close-row"},(0,o.createElement)("button",{type:"button",className:"circle-btn close-modal-btn",onClick:a},"×")))}te.propTypes={title:L().string.isRequired,isOpen:L().bool.isRequired,onRequestClose:L().func.isRequired,children:L().node.isRequired},ae.propTypes={isOpen:L().bool.isRequired,anchor:L().object,onRequestClose:L().func.isRequired,values:L().object,onSave:L().func.isRequired},ne.propTypes={isOpen:L().bool.isRequired,anchor:L().object,onRequestClose:L().func.isRequired,values:L().object,onSave:L().func.isRequired},le.propTypes={isOpen:L().bool.isRequired,anchor:L().object,onRequestClose:L().func.isRequired,values:L().object,onSave:L().func.isRequired},oe.propTypes={isOpen:L().bool.isRequired,anchor:L().object,onRequestClose:L().func.isRequired,values:L().object,onSave:L().func.isRequired},se.propTypes={isOpen:L().bool.isRequired,anchor:L().object,onRequestClose:L().func.isRequired,values:L().object,onSave:L().func.isRequired};const ie={.014:["2","3","4","5"],.018:["4","5","6","7"],.035:["5","6","7","8","9","10"]},re={.014:["20","40","60","80"],.018:["40","60","80","100"],.035:["40","60","80","100","120"]};function ce({isOpen:e,anchor:t,onRequestClose:a,values:n,onSave:l}){const[s,i]=(0,o.useState)(n.platform||""),[r,c]=(0,o.useState)(n.type||""),[u,L]=(0,o.useState)(n.material||""),[m,d]=(0,o.useState)(n.diameter||""),[p,g]=(0,o.useState)(n.length||"");(0,o.useEffect)((()=>{i(n.platform||""),c(n.type||""),L(n.material||""),d(n.diameter||""),g(n.length||"")}),[n]);const N=(e,t)=>{const n={platform:s,type:r,material:u,diameter:m,length:p,[e]:t};switch(e){case"platform":i(t),d(t?ie[t][0]:""),g(t?re[t][0]:"");break;case"type":c(t);break;case"material":L(t);break;case"diameter":d(t);break;case"length":g(t)}l({platform:n.platform,type:n.type,material:n.material,diameter:n.diameter,length:n.length}),n.platform&&n.type&&n.material&&n.diameter&&n.length&&a()};return(0,o.createElement)(te,{title:"Stent",isOpen:e,anchor:t,onRequestClose:a},(0,o.createElement)(M,{options:["0.014","0.018","0.035"].map((e=>({label:e,value:e}))),value:s,onChange:e=>N("platform",e),ariaLabel:"Platform"}),(0,o.createElement)(M,{options:[{label:"self expandable",value:"self expandable"},{label:"balloon expandable",value:"balloon expandable"}],value:r,onChange:e=>N("type",e),ariaLabel:"Stent type"}),(0,o.createElement)(M,{options:[{label:"bare metal",value:"bare metal"},{label:"covered",value:"covered"}],value:u,onChange:e=>N("material",e),ariaLabel:"Stent material"}),(0,o.createElement)(T.SelectControl,{label:"Diameter",value:m,options:[{label:"Choose diameter",value:"",disabled:!0},...(ie[s]||[]).map((e=>({label:e,value:e})))],onChange:e=>N("diameter",e)}),(0,o.createElement)(T.SelectControl,{label:"Length",value:p,options:[{label:"Choose length",value:"",disabled:!0},...(re[s]||[]).map((e=>({label:e,value:e})))],onChange:e=>N("length",e)}),(0,o.createElement)("div",{className:"popup-close-row"},(0,o.createElement)("button",{type:"button",className:"circle-btn close-modal-btn",onClick:a},"×")))}ce.propTypes={isOpen:L().bool.isRequired,anchor:L().object,onRequestClose:L().func.isRequired,values:L().object,onSave:L().func.isRequired};const ue=["6F AngioSeal","8F AngioSeal","Perclose ProStyle","Exoseal","Starclose","14F Manta","18F Manta","Mynx","Custom"];function Le({isOpen:e,values:t,onSave:a,onRequestClose:n}){const[l,s]=(0,o.useState)(t.approach||""),[r,c]=(0,o.useState)(t.side||""),[u,L]=(0,o.useState)(t.vessel||""),[m,d]=(0,o.useState)(!1);return(0,o.createElement)($,{title:(0,i.__)("Edit access","endoplanner"),isOpen:e,onRequestClose:()=>{a({approach:l,side:r,vessel:u}),n()}},(0,o.createElement)(M,{options:[{label:"Antegrade",value:"Antegrade"},{label:"Retrograde",value:"Retrograde"}],value:l,onChange:s,ariaLabel:(0,i.__)("Approach","endoplanner")}),(0,o.createElement)(M,{options:[{label:"Left",value:"Left"},{label:"Right",value:"Right"}],value:r,onChange:c,ariaLabel:(0,i.__)("Side","endoplanner")}),(0,o.createElement)("div",{className:"vessel-btn-container"},(0,o.createElement)("button",{type:"button",className:"device-button",onClick:()=>d(!0)},u||(0,i.__)("Vessel","endoplanner"))),m&&(0,o.createElement)($,{title:(0,i.__)("Select Vessel","endoplanner"),isOpen:m,onRequestClose:()=>d(!1)},(0,o.createElement)("ul",{className:"vessel-dropdown"},(0,o.createElement)("li",null,(0,o.createElement)("button",{type:"button",className:"dropdown-item",disabled:!0},(0,i.__)("Choose vessel","endoplanner"))),["CFA","SFA","ATA","TTP","ATP","ADP"].map((e=>(0,o.createElement)("li",{key:e},(0,o.createElement)("button",{type:"button",className:"dropdown-item"+(u===e?" selected":""),onClick:()=>{L(e),d(!1)}},e))))),(0,o.createElement)("div",{className:"popup-close-row"},(0,o.createElement)("button",{type:"button",className:"circle-btn close-modal-btn",onClick:()=>d(!1)},"×"))),(0,o.createElement)("div",{className:"popup-close-row"},(0,o.createElement)("button",{type:"button",className:"circle-btn close-modal-btn",onClick:()=>{a({approach:l,side:r,vessel:u}),n()}},"×")))}function Me({isOpen:e,values:t,onSave:a,onRequestClose:n}){const[l,s]=(0,o.useState)(t.method||""),[r,c]=(0,o.useState)(t.device||"");return(0,o.createElement)($,{title:(0,i.__)("Edit closure","endoplanner"),isOpen:e,onRequestClose:()=>{a({method:l,device:r}),n()}},(0,o.createElement)(M,{options:[{label:"Manual pressure",value:"Manual pressure"},{label:"Closure device",value:"Closure device"}],value:l,onChange:s,ariaLabel:(0,i.__)("Method","endoplanner")}),"Closure device"===l&&(0,o.createElement)(v,{options:ue,value:r,onChange:c}),(0,o.createElement)("div",{className:"popup-close-row"},(0,o.createElement)("button",{type:"button",className:"circle-btn close-modal-btn",onClick:()=>{a({method:l,device:r}),n()}},"×")))}const me=e=>e&&"object"==typeof e?Object.values(e).filter(Boolean).join(" "):"",de=e=>e&&"object"==typeof e?e.diameter&&e.length&&e.shaft?`${e.diameter} × ${e.length} · shaft ${e.shaft}`:e.diameter&&e.length?`${e.diameter} × ${e.length}`:me(e):"",pe={access:{needle:{gauge:"19 G",length:"7 cm"},sheath:{fr:"6 F",length:"12 cm"},catheter:{model:"BER2",fr:"4 F",length:"65 cm"}},navigation:{wire:{core:"0.018",length:"180 cm",coating:"Glidewire",tip:"Intimal tracking"}},vesselPrep:{balloon:{platform:"0.018",diameter:"5 mm",length:"100 mm",shaft:"80 cm"}},closure:{method:"Manual"}},ge="ENDOPLANNER_WIZARD_V1",Ne=(0,o.createContext)(),ye=()=>(0,o.useContext)(Ne);function je({children:e}){const[t,a]=(0,o.useState)((()=>{try{return{...pe,...JSON.parse(localStorage.getItem(ge)||"{}")}}catch{return pe}}));return(0,o.useEffect)((()=>{localStorage.setItem(ge,JSON.stringify(t))}),[t]),(0,o.createElement)(Ne.Provider,{value:{state:t,setState:a,resetCase:()=>{a(pe),localStorage.removeItem(ge)}}},e)}function he(){const{resetCase:e}=ye();return(0,o.createElement)("button",{className:"reset-case",onClick:()=>{e()}},"RESET CASE")}const Se=[{title:(0,i.__)("Clinical indication","endoplanner"),component:p},{title:(0,i.__)("Disease anatomy","endoplanner"),component:function({data:e,setData:t}){const a=(0,r.useBlockProps)(),[n,l]=(0,o.useState)(null),[s,c]=(0,o.useState)(!1),u=(0,o.useRef)(null),[L,M]=(0,o.useState)(null),[m,d]=(0,o.useState)(!0),p=Object.keys(e.patencySegments||{});(0,o.useEffect)((()=>{if(n){if(!s){const e=setTimeout((()=>l(null)),200);return()=>clearTimeout(e)}if(u.current){const e=u.current.getBoundingClientRect(),{side:t,x:a,y:o}=n,{segRect:s,wrapperRect:i}=n,r={side:t,x:a,y:o},c=8;"left"===t&&a-e.width<0?s.right-i.left+c+e.width<=i.width?(r.side="right",r.x=s.right-i.left+c):r.x=e.width:"right"===t&&a+e.width>i.width&&(s.left-i.left-c-e.width>=0?(r.side="left",r.x=s.left-i.left-c):r.x=i.width-e.width),r.y-e.height/2<0?r.y=e.height/2:r.y+e.height/2>i.height&&(r.y=i.height-e.height/2),r.x===n.x&&r.y===n.y&&r.side===n.side||l((e=>e&&{...e,...r}))}}}),[n,s]);const g=e=>{M(e),d(!1)};return(0,o.createElement)("div",{...a,className:"step2-patency"},(0,o.createElement)("div",{className:"patency-container"},(0,o.createElement)("div",{className:"vessel-column"},(0,o.createElement)("div",{className:"svg-wrapper patency-svg vessel-map-wrapper"},(0,o.createElement)(h,{selectedSegments:p,toggleSegment:e=>g(e),setTooltip:e=>{e?(l(e),c(!0)):c(!1)}}),n&&(0,o.createElement)("div",{ref:u,className:`vessel-tooltip ${n.side} ${s?"visible":""}`,style:{left:n.x,top:n.y}},n.name))),(0,o.createElement)("div",{className:"controls-column"},p.length>0&&(0,o.createElement)("div",{className:"summary-box selected-segments"},(0,o.createElement)("h4",null,(0,i.__)("Selected segments","endoplanner")),(0,o.createElement)("ul",{className:"vessel-summary arrow-list"},p.map((t=>{const a=w.find((e=>e.id===t)),n=a?a.name:t,l=e.patencySegments[t]||{},s={"<3":"<3cm","3-10":"3–10cm","10-15":"10–15cm","15-20":"15–20cm",">20":">20cm"}[l.length]||l.length,i=`${l.type||""} | ${s} | ${l.calcium}`;return(0,o.createElement)("li",{key:t},(0,o.createElement)("strong",null,n)," ",(0,o.createElement)("span",{className:"segment-summary",onClick:()=>g(t)},"(",i,")"))})))),L&&(0,o.createElement)(C,{segmentName:w.find((e=>e.id===L))?.name||L,initialValues:e.patencySegments?.[L]||{},onSave:e=>{t((t=>({...t,patencySegments:{...t.patencySegments||{},[L]:e}}))),M(null)},onCancel:()=>{M(null)}}),m&&(0,o.createElement)("div",{className:"instruction-box"},(0,i.__)("Select affected segments and specify patency, length and level of calcification.","endoplanner")))))}},{title:(0,i.__)("Intervention plan","endoplanner"),component:X},{title:(0,i.__)("Case summary","endoplanner"),component:function({data:e,setData:t,setStep:a}){const{stage:n,clinical:l={},patencySegments:r={},accessRows:c=[],navRows:u=[],therapyRows:L=[],closureRows:M=[]}=e,m=function(e={}){const t=e.clinical||{},{wound:a=0,ischemia:n=0,infection:l=0}=t,o=Math.max(a,n,l),s={0:{amp:[1,3],limb:95},1:{amp:[5,10],limb:90},2:{amp:[15,25],limb:75},3:{amp:[30,55],limb:60}},i=s[o]?.amp||[5,10];let r=[...i],c=s[o]?.limb||90;const u=e.patencySegments||{},L={"<3":2,"3-10":7,"10-15":12,"15-20":17,">20":25};let M=0,m=!1,d="none";Object.values(u).forEach((({length:e,type:t,calcium:a})=>{M+=L[e]||0,"occlusion"===t&&(m=!0),"heavy"===a?d="heavy":"moderate"===a&&"heavy"!==d&&(d="moderate")}));let p=M>20?"len20":M>10?"len10":null,g=r[0],N=r[1];return M>20?(g+=5,N+=7,c-=5):M>10&&(g+=2,N+=5,c-=2),m&&(g+=3,N+=5,c-=5),"heavy"===d?(g+=3,N+=5,c-=5):"moderate"===d&&(g+=1,N+=3,c-=2),r=[Math.min(g,95),Math.min(N,95)],c=Math.max(0,c),{wound:a,ischemia:n,infection:l,wifiStage:o,baseAmpRange:i,ampRange:r,limbSalvage:c,totalLength:M,hasOcclusion:m,maxCalcium:d,lengthCategory:p}}(e),d=function(e={}){const t={"<3":2,"3-10":7,"10-15":12,"15-20":17,">20":25},a=["Left superficial femoral artery","Right superficial femoral artery","Left popliteal artery","Right popliteal artery","Left profunda femoral artery","Right profunda femoral artery"],n=["Left anterior tibial artery","Right anterior tibial artery","Left posterior tibial artery","Right posterior tibial artery","Left peroneal artery","Right peroneal artery","Left tibioperoneal trunk","Right tibioperoneal trunk","Left metatarsal arteries","Right metatarsal arteries","Left plantar arch","Right plantar arch","Left lateral plantar artery","Right lateral plantar artery","Left medial plantar artery","Right medial plantar artery","Left dorsal pedal artery","Right dorsal pedal artery"];let l=0,o=0;Object.entries(e).forEach((([e,s])=>{const i=(e=>{if(!e)return 0;let a=0;const n=t[e.length]||0;return n>20?a+=3:n>15?a+=2:n>10&&(a+=1),"occlusion"===e.type&&(a+=1),"moderate"===e.calcium?a+=1:"heavy"===e.calcium&&(a+=2),Math.min(a,4)})(s);a.includes(e)&&(l=Math.max(l,i)),n.includes(e)&&(o=Math.max(o,i))}));const s=l<=1&&o<=1?"I":l<=2&&o<=2?"II":"III";return{stage:s,successRange:{I:[95,98],II:[85,90],III:[65,80]}[s],failureRange:{I:[2,5],II:[6,15],III:[16,25]}[s],patencyRange:{I:[85,90],II:[75,85],III:[0,65]}[s],riskCategory:{I:"Low",II:"Moderate",III:"High"}[s],explanation:{I:"Short, focal lesion in SFA with patent outflow",II:"Moderate length lesion or limited outflow disease",III:"Long, complex lesion with poor outflow"}[s]}}(r),[p,g]=(0,o.useState)(null),[N,y]=(0,o.useState)(null),j=`W${m.wound}I${m.ischemia}fI${m.infection}`,h=e=>{g(e)},S={0:{cat:"Very Low",amp:[1,3],mort:[5,10]},1:{cat:"Low",amp:[5,10],mort:[10,15]},2:{cat:"Moderate",amp:[15,25],mort:[15,30]},3:{cat:"Very High",amp:[30,55],mort:[25,40]}}[m.wifiStage]||{},E=(m.totalLength>20||m.totalLength,m.hasOcclusion,"heavy"===m.maxCalcium||m.maxCalcium,c[0]?`${c[0].approach||""} via ${c[0].side||""} ${c[0].vessel||""}`.trim():""),[C,T]=(0,o.useState)(!1),v=e=>{e.type&&y(e)},b=(e,t,a="",n=!1)=>t.length||a?(0,o.createElement)("div",{className:"plan-section"},(0,o.createElement)("div",{className:"section-title subsection-title"},e),a&&(0,o.createElement)("div",{className:"approach-label clickable",onClick:()=>n&&T(!0)},a),(0,o.createElement)("div",{className:"plan-grid"},t.map(((t,a)=>(0,o.createElement)(s().Fragment,{key:`${e}-${a}`},(0,o.createElement)("div",{className:"plan-label clickable",onClick:()=>v(t)},t.label),(0,o.createElement)("div",{className:"plan-value clickable",onClick:()=>v(t)},t.value)))))):null,D=c.flatMap(((e,t)=>[...(e.needles||[]).map(((e,a)=>({label:"NEEDLE(S)",value:me(e),type:"needle",row:t,index:a}))),...(e.sheaths||[]).map(((e,a)=>({label:"SHEATH(S)",value:me(e),type:"sheath",row:t,index:a}))),...(e.catheters||[]).map(((e,a)=>({label:"CATHETER(S)",value:me(e),type:"access-catheter",row:t,index:a})))])).filter((e=>e.value)),f=u.flatMap(((e,t)=>[me(e.wire)?{label:"WIRE",value:me(e.wire),type:"wire",row:t}:null,me(e.catheter)?{label:"CATHETER",value:me(e.catheter),type:"nav-catheter",row:t}:null])).filter(Boolean),I=L.flatMap(((e,t)=>[me(e.balloon)?{label:"BALLOON",value:de(e.balloon),type:"balloon",row:t}:null,me(e.stent)?{label:"STENT",value:de(e.stent),type:"stent",row:t}:null])).filter(Boolean),z=M.map(((e,t)=>({label:"CLOSURE",value:`${e.method||""}${e.device?" "+e.device:""}`.trim(),type:"closure",row:t}))).filter((e=>e.value)),x=e=>{if(!N)return;const{type:a,row:n,index:l}=N;t((t=>{const o={...t};if("needle"===a){const a=[...t.accessRows||[]],s=[...a[n].needles||[]];s[l]=e,a[n]={...a[n],needles:s},o.accessRows=a}else if("sheath"===a){const a=[...t.accessRows||[]],s=[...a[n].sheaths||[]];s[l]=e,a[n]={...a[n],sheaths:s},o.accessRows=a}else if("access-catheter"===a){const a=[...t.accessRows||[]],s=[...a[n].catheters||[]];s[l]=e,a[n]={...a[n],catheters:s},o.accessRows=a}else if("wire"===a){const a=[...t.navRows||[]];a[n]={...a[n],wire:e},o.navRows=a}else if("nav-catheter"===a){const a=[...t.navRows||[]];a[n]={...a[n],catheter:e},o.navRows=a}else if("balloon"===a){const a=[...t.therapyRows||[]];a[n]={...a[n],balloon:e},o.therapyRows=a}else if("stent"===a){const a=[...t.therapyRows||[]];a[n]={...a[n],stent:e},o.therapyRows=a}else if("closure"===a){const a=[...t.closureRows||[]];a[n]={...a[n],...e},o.closureRows=a}return o})),y(null)},O=Object.keys(r).length?(0,o.createElement)("ul",{className:"vessel-summary"},Object.entries(r).map((([e,t])=>{const n={"<3":"<3cm","3-10":"3–10cm","10-15":"10–15cm","15-20":"15–20cm",">20":">20cm"}[t.length]||t.length,l=t.calcium?`calcium: ${t.calcium}`:"",s=`${t.type}, ${n}${l?", "+l:""}`;return(0,o.createElement)("li",{key:e,onClick:()=>a&&a(1)},(0,o.createElement)("span",{className:"dash-bullet"},"–"),(0,o.createElement)("span",null,(0,o.createElement)("strong",null,(e=>w.find((t=>t.id===e))?.name||e.replace(/_/g," ").replace(/\b\w/g,(e=>e.toUpperCase())))(e))," ",s))}))):(0,o.createElement)("p",null,(0,i.__)("No vessel data entered.","endoplanner"));return(0,o.createElement)("div",{id:"case-summary",className:"summary-card-wrapper"},(0,o.createElement)("div",{className:"case-summary-container"},(0,o.createElement)("div",{className:"summary-row row1"},(0,o.createElement)("div",{className:"summary-card"},(0,o.createElement)("div",{className:"card-title"},(0,i.__)("Clinical indication","endoplanner")),(0,o.createElement)("div",null,(0,i.__)("Fontaine stage","endoplanner"),": ",(0,o.createElement)("b",null,(k=n)?{i:"I",iia:"IIa",iib:"IIb",iii:"III",iv:"IV"}[k.toLowerCase()]||k:"—")),(0,o.createElement)("div",null,(0,i.__)("WIfI","endoplanner"),":"," ",(0,o.createElement)("b",null,j," (WIfI Stage ",m.wifiStage,")")),(0,o.createElement)("div",{className:"row-add-label wifi-prediction"},`WIfI stage ${m.wifiStage} predicts a ${S.cat?.toLowerCase()} risk of 1-year major amputation (${S.amp?.[0]}–${S.amp?.[1]}%) and mortality (${S.mort?.[0]}–${S.mort?.[1]}%).`,(0,o.createElement)(H,{number:1,onClick:()=>h(1)}))),(0,o.createElement)("div",{className:"summary-card"},(0,o.createElement)("div",{className:"card-title"},(0,i.__)("Disease Anatomy","endoplanner")),O,(0,o.createElement)("div",null,(0,o.createElement)("div",{className:"glass-line"},(0,i.__)("GLASS stage","endoplanner")," ",d.stage),(0,o.createElement)("div",{className:"row-add-label glass-prediction"},`GLASS stage ${d.stage} predicts a technical failure rate of ${d.failureRange[0]}–${d.failureRange[1]}% and a 1-year limb-based patency of ${d.patencyRange[0]}–${d.patencyRange[1]}%.`,(0,o.createElement)(H,{number:2,onClick:()=>h(2)})),m.wifiStage>=3&&"III"===d.stage&&(0,o.createElement)("div",{className:"row-add-label text-red-500",id:"open-bypass-notice"},(0,i.__)("For WIfI stage 3 or 4 and GLASS stage 3, open bypass should be considered according to the Global Vascular Guidelines on CLTI Management.","endoplanner"),(0,o.createElement)(H,{number:2,onClick:()=>h(2)})))),(0,o.createElement)("div",{className:"summary-card intervention-plan"},(0,o.createElement)("div",{className:"card-title main-plan-title"},(0,i.__)("Intervention plan","endoplanner")),b((0,i.__)("ACCESS","endoplanner"),D,E,!0),b((0,i.__)("NAVIGATION & CROSSING","endoplanner"),f),b((0,i.__)("VESSEL PREPARATION & THERAPY","endoplanner"),I),b((0,i.__)("CLOSURE","endoplanner"),z))),(0,o.createElement)(K,{isOpen:!!p,reference:(R=p,ee.find((e=>e.number===R))),onRequestClose:()=>g(null)}),"needle"===N?.type&&(0,o.createElement)(ae,{isOpen:!0,anchor:null,values:c[N.row].needles[N.index]||{},onRequestClose:()=>y(null),onSave:x}),"sheath"===N?.type&&(0,o.createElement)(ne,{isOpen:!0,anchor:null,values:c[N.row].sheaths[N.index]||{},onRequestClose:()=>y(null),onSave:x}),"access-catheter"===N?.type&&(0,o.createElement)(le,{isOpen:!0,anchor:null,values:c[N.row].catheters[N.index]||{},onRequestClose:()=>y(null),onSave:x}),"nav-catheter"===N?.type&&(0,o.createElement)(le,{isOpen:!0,anchor:null,values:u[N.row].catheter||{},onRequestClose:()=>y(null),onSave:x}),"wire"===N?.type&&(0,o.createElement)(oe,{isOpen:!0,anchor:null,values:u[N.row].wire||{},onRequestClose:()=>y(null),onSave:x}),"balloon"===N?.type&&(0,o.createElement)(se,{isOpen:!0,anchor:null,values:L[N.row].balloon||{},onRequestClose:()=>y(null),onSave:x}),"stent"===N?.type&&(0,o.createElement)(ce,{isOpen:!0,anchor:null,values:L[N.row].stent||{},onRequestClose:()=>y(null),onSave:x}),"closure"===N?.type&&(0,o.createElement)(Me,{isOpen:!0,values:M[N.row]||{},onRequestClose:()=>y(null),onSave:x}),C&&(0,o.createElement)(Le,{isOpen:!0,values:c[0]||{},onRequestClose:()=>T(!1),onSave:e=>t((t=>{const a=[...t.accessRows||[{}]];return a[0]={...a[0],...e},{...t,accessRows:a}}))})));var R,k}}];function Ee(){const[e,t]=(0,o.useState)(0),[a,n]=(0,o.useState)({});(0,o.useEffect)((()=>{const e=localStorage.getItem("endoplannerState");if(e)try{const{step:a,data:l}=JSON.parse(e);l&&n(l),"number"==typeof a&&t(a)}catch(e){}}),[]),(0,o.useEffect)((()=>{localStorage.setItem("endoplannerState",JSON.stringify({step:e,data:a}))}),[e,a]);const l=Se[e].component;return(0,o.createElement)("div",{className:"endo-wizard"},(0,o.createElement)(T.ProgressBar,{value:(e+1)/Se.length}),(0,o.createElement)("div",{className:"wizard-content"},(0,o.createElement)("h2",null,Se[e].title),(0,o.createElement)(l,{data:a,setData:n,setStep:e=>{"number"==typeof e&&t(Math.min(Math.max(e,0),Se.length-1))}})),(0,o.createElement)("div",{className:"wizard-nav"},e>0&&(0,o.createElement)("button",{type:"button",className:"stage-btn wizard-back",onClick:()=>t(Math.max(e-1,0))},(0,i.__)("Back","endoplanner")),e<Se.length-1?(0,o.createElement)("button",{type:"button",className:"stage-btn wizard-next",onClick:()=>t(Math.min(e+1,Se.length-1))},(0,i.__)("Next","endoplanner")):(0,o.createElement)("button",{type:"button",id:"export-pdf-btn",className:"stage-btn wizard-finish",onClick:c},(0,i.__)("Export PDF","endoplanner"))),(0,o.createElement)(he,null))}(0,l.registerBlockType)("endoplanner/v2-wizard",{apiVersion:2,icon:"admin-tools",edit:function(e){const t=(0,r.useBlockProps)();return(0,o.createElement)("div",{...t},(0,o.createElement)(Ee,{blockAttributes:e.attributes,setAttributes:e.setAttributes}))},save:function(){return(0,o.createElement)("div",{className:"endoplanner-root"})}});var Ce=a(5338);const we=n?.WizardProvider||n?.default||(()=>{throw new Error("WizardProvider not found")}),Te=()=>{const e=document.querySelectorAll(".endoplanner-root");e.length?e.forEach((e=>{if(!e.dataset.epInitialized)try{(0,Ce.H)(e).render((0,o.createElement)(we,null,(0,o.createElement)(Ee,null))),e.dataset.epInitialized="true"}catch(e){console.error("Error rendering EndoPlanner wizard:",e)}})):console.error("[EndoPlanner] .endoplanner-root not found – ensure the div exists **after** the block markup is rendered.")};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",Te):Te()},2694:(e,t,a)=>{"use strict";var n=a(6925);function l(){}function o(){}o.resetWarningCache=l,e.exports=function(){function e(e,t,a,l,o,s){if(s!==n){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var a={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:l};return a.PropTypes=a,a}},5338:(e,t,a)=>{"use strict";var n=a(5795);t.H=n.createRoot,n.hydrateRoot},5556:(e,t,a)=>{e.exports=a(2694)()},5795:e=>{"use strict";e.exports=window.ReactDOM},6925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},s={};function i(e){var t=s[e];if(void 0!==t)return t.exports;var a=s[e]={exports:{}};return o[e].call(a.exports,a,a.exports,i),a.exports}i.m=o,e=[],i.O=(t,a,n,l)=>{if(!a){var o=1/0;for(u=0;u<e.length;u++){for(var[a,n,l]=e[u],s=!0,r=0;r<a.length;r++)(!1&l||o>=l)&&Object.keys(i.O).every((e=>i.O[e](a[r])))?a.splice(r--,1):(s=!1,l<o&&(o=l));if(s){e.splice(u--,1);var c=n();void 0!==c&&(t=c)}}return t}l=l||0;for(var u=e.length;u>0&&e[u-1][2]>l;u--)e[u]=e[u-1];e[u]=[a,n,l]},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},a=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(e,n){if(1&n&&(e=this(e)),8&n)return e;if("object"==typeof e&&e){if(4&n&&e.__esModule)return e;if(16&n&&"function"==typeof e.then)return e}var l=Object.create(null);i.r(l);var o={};t=t||[null,a({}),a([]),a(a)];for(var s=2&n&&e;"object"==typeof s&&!~t.indexOf(s);s=a(s))Object.getOwnPropertyNames(s).forEach((t=>o[t]=()=>e[t]));return o.default=()=>e,i.d(l,o),l},i.d=(e,t)=>{for(var a in t)i.o(t,a)&&!i.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,a)=>(i.f[a](e,t),t)),[])),i.u=e=>e+".js",i.miniCssF=e=>{},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},l="endo-planner-v2:",i.l=(e,t,a,o)=>{if(n[e])n[e].push(t);else{var s,r;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var L=c[u];if(L.getAttribute("src")==e||L.getAttribute("data-webpack")==l+a){s=L;break}}s||(r=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.setAttribute("data-webpack",l+a),s.src=e),n[e]=[t];var M=(t,a)=>{s.onerror=s.onload=null,clearTimeout(m);var l=n[e];if(delete n[e],s.parentNode&&s.parentNode.removeChild(s),l&&l.forEach((e=>e(a))),t)return t(a)},m=setTimeout(M.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=M.bind(null,s.onerror),s.onload=M.bind(null,s.onload),r&&document.head.appendChild(s)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");if(a.length)for(var n=a.length-1;n>-1&&(!e||!/^http(s?):/.test(e));)e=a[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),(()=>{var e={57:0,350:0};i.f.j=(t,a)=>{var n=i.o(e,t)?e[t]:void 0;if(0!==n)if(n)a.push(n[2]);else if(350!=t){var l=new Promise(((a,l)=>n=e[t]=[a,l]));a.push(n[2]=l);var o=i.p+i.u(t),s=new Error;i.l(o,(a=>{if(i.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var l=a&&("load"===a.type?"missing":a.type),o=a&&a.target&&a.target.src;s.message="Loading chunk "+t+" failed.\n("+l+": "+o+")",s.name="ChunkLoadError",s.type=l,s.request=o,n[1](s)}}),"chunk-"+t,t)}else e[t]=0},i.O.j=t=>0===e[t];var t=(t,a)=>{var n,l,[o,s,r]=a,c=0;if(o.some((t=>0!==e[t]))){for(n in s)i.o(s,n)&&(i.m[n]=s[n]);if(r)var u=r(i)}for(t&&t(a);c<o.length;c++)l=o[c],i.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return i.O(u)},a=globalThis.webpackChunkendo_planner_v2=globalThis.webpackChunkendo_planner_v2||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var r=i.O(void 0,[350],(()=>i(1275)));r=i.O(r)})();